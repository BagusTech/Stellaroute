"use strict";void function(t){function e(t){t.stopPropagation(),t.preventDefault();var e=t.data.cardsWrapper,a=e.find('[data-sort="item"]'),d=t.data.expandeCollapseIcon,i=d.hasClass("fa-compress"),s=t.data.previewCardsIcon;e.find('[role="tab"][aria-expanded="'+!!i+'"]').click(),a.addClass("guide-card--edit-mode"),d.toggleClass("fa-compress fa-expand"),s.removeClass("fa-pencil").addClass("fa-eye")}function a(t){t.stopPropagation(),t.preventDefault();var e=t.data.cardsWrapper,a=t.data.expandeCollapseIcon,d=e.find(".js-card"),i=t.data.previewCardsIcon;e.find('[role="tab"][aria-expanded="false"]').click(),a.removeClass("fa-expand").addClass("fa-compress"),i.hasClass("fa-eye")?d.trigger("exitEditMode"):d.trigger("enterEditMode"),i.toggleClass("fa-eye fa-pencil")}function d(e){e.data.cardsWrapper.find('[duck-button="add"]').addClass("hidden"),e.data.addCardIcon.removeClass("rotate-45"),t(e.currentTarget).off("click",d)}function i(e){e.stopPropagation(),e.preventDefault();var a=e.data.cardsWrapper,i=e.data.addCardIcon,s=a.find('[duck-button="add"]');a.prop("ArrayItemTemplate",e.data.cardTemplate),s.removeClass("hidden"),i.hasClass("rotate-45")?t("body").click():(t("body").on("click",{cardsWrapper:a,addCardIcon:i},d),i.addClass("rotate-45"))}function s(e){var a=t(e),d=a.find('.panel-heading[role="tab"]'),i=a.find('[duck-field="style"] select'),s=a.find(".card-styles--preview"),l=a.find('[duck-type="string"] [duck-value]'),o=a.find(".js-card-title"),u=a.find('[duck-type="image"] [duck-value]'),p=a.find(".js-card-image"),g=a.find(".summernote"),v=a.find(".js-card-text"),f=a.find(".js-card-toggle");f.on("click",function(t){t.stopPropagation(),t.preventDefault(),a.parent().hasClass("guide-card--edit-mode")?a.trigger("exitEditMode"):a.trigger("enterEditMode")}),a.on("exitEditMode",function(){a.parent().removeClass("guide-card--edit-mode"),"false"===d.attr("aria-expanded")&&d.click()}),a.on("enterEditMode",function(){a.parent().addClass("guide-card--edit-mode")}),l.on("input",function(t){t.stopPropagation(),t.preventDefault(),o.text(l.val()||n)}),g.on("summernote.change",function(t,e){v.html(e||r)}),i.on("input",function(t){t.stopPropagation(),t.preventDefault(),s.removeClass("card-styles--preview__active"),a.find('.card-styles--preview[card-style="'+i.val()+'"]').addClass("card-styles--preview__active")}),u.on("change",function(e){e.stopPropagation(),e.preventDefault();var a=u.val()?"https://s3-us-west-2.amazonaws.com/stellaroute/"+u.val().replace(".","-medium."):c;p.each(function(e,d){var i=t(d);i.attr("style")?i.attr("style","background-image: url('"+a+"')"):i.attr("src",a)})})}var n="Card Title",r="This is where the <strong>Text</strong> for the card will go.",c="images/no-image.svg";t.fn.guideCard=function(){return this.each(function(t,e){s(e)})},t(function(){var d=t(".sub-header"),s=t("#GuideDetailsForm"),n=s.find('[duck-button="submit"]'),r=n.find(".fa"),c=s.find('[duck-button="edit"]'),l=c.find(".fa"),o=s.find('[duck-field="bannerImage"] [duck-value]'),u=t("#GuideCards"),p=u.find('[duck-button="submit"]'),g=p.find(".fa"),v=t(".js-guide-cards"),f=t(".js-expand-collapse"),m=f.find(".fa"),b=t(".js-preview-cards"),h=b.find(".fa"),y=t(".js-add-card-start"),C=y.find(".fa"),x=t('\n\t\t\t<div duck-type="object">\n\t\t\t\t<button class="btn btn-default guide-card--add-card" duck-button=\'add\', duck-add=\'before\'>\n\t\t\t\t\t<span>Add&nbsp;</span>\n\t\t\t\t\t<i class=\'fa fa-chevron-right\' aria-hidden=\'true\'></i>\n\t\t\t\t</button>\n\t\t\t\t<div class="input-group guide-card--admin js-card guide-card--big" data-sort="item">\n\t\t\t\t\t<button class="btn btn-default guide-card--edit-toggle js-card-toggle">\n\t\t\t\t\t\t<i class="fa fa-pencil" aria-hidden="true"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class="input-group-addon" data-sort="handle">\n\t\t\t\t\t\t<i class="fa fa-arrows-v" aria-hidden="true"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="panel panel-default" data-function="accordion" data-position="0.2">\n\t\t\t\t\t\t<div class="panel-heading" role="tab" aria-expanded="true" id="NewCard">\n\t\t\t\t\t\t\t<h2 class="panel-title js-card-title">New Card</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="p-0" role="tabpanel" aria-hidden="false" style="display: block;">\n\t\t\t\t\t\t\t<div class="panel-body">\n\t\t\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t\t\t\t<div class="col-xs-12 col-md-6 guide-card--edit">\n\t\t\t\t\t\t\t\t\t\t<div class="form-horizontal">\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-group" duck-field="title" duck-type="string">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="col-sm-2 control-label">Title</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-10">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input class="form-control" duck-value="" value="New Card" type="text" />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-group" duck-field="image" duck-type="image">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="col-sm-2 control-label">Image</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-10">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input class="hidden" duck-value="" value="" type="hidden" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-control" duck-button="image-select">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-image" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="pl-Sm" duck-image-value=""></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-group" duck-field="text" duck-type="wysiwyg">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="col-sm-2 control-label">Text</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-10">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="summernote" style="display: none;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tThis is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-group" duck-field="style" duck-type="select">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="col-sm-2 control-label">Style</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-10">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select class="form-control" duck-value="">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="big" selected="">Big Card</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="small">Small Card</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="section">Section</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="sub">Sub Section</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="img">Image Only</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="plain">Plain Text</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="white">White Text</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="danger">Danger Text</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="success">Success Text</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="info">Info Text</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="col-xs-12 col-md-6 guide-card--view">\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview" card-style="section">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 class="guide-card--title js-card-title">New Card\n\t\t\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="sub">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 class="guide-card--title js-card-title">New Card\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper card-styles--preview__active" card-style="big">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img class="guide-card--img js-card-image" src="/images/no-image.svg">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 class="guide-card--title js-card-title">New Card\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="small">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img class="guide-card--img js-card-image" src="/images/no-image.svg">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 class="guide-card--title js-card-title">New Card\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="img">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<img class="guide-card--img js-card-image" src="/images/no-image.svg">\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="plain">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="white">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="danger">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="success">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="info">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="panel-footer text-right">\n\t\t\t\t\t\t\t\t<button class="btn btn-danger" duck-button="delete">Delete Card</button>\n\t\t\t\t\t\t\t\t<button class="btn btn-info js-card-toggle">Preview</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'),w=t('<div class="alert alert-danger p-A z-1 l-0 r-0 t-0">Something went wrong, please try again.</div>');t(".js-card").guideCard(),u.on("duck.form.submitted",function(t){t.stopPropagation(),g.toggleClass("fa-spinner fa-spin fa-floppy-o")}),u.on("duck.form.success",function(t){t.stopPropagation(),g.toggleClass("fa-spinner fa-spin fa-floppy-o"),p.prop("disabled",!1),v.find(".js-card").trigger("exitEditMode"),h.removeClass("fa-eye").addClass("fa-pencil")}),u.on("duck.form.error",function(t){t.stopPropagation();var e=w.clone();v.prepend(e),setTimeout(function(){e.slideUp(270)},3e3),setTimeout(function(){e.remove()},3270),g.toggleClass("fa-spinner fa-spin fa-floppy-o"),p.prop("disabled",!1)}),y.on("click",{cardsWrapper:v,addCardIcon:C,cardTemplate:x},i),f.on("click",{cardsWrapper:v,expandeCollapseIcon:m,previewCardsIcon:h},e),b.on("click",{cardsWrapper:v,expandeCollapseIcon:m,previewCardsIcon:h},a),c.on("click",function(t){t.stopPropagation(),t.preventDefault(),l.toggleClass("fa-eye fa-pencil")}),s.on("duck.form.submitted",function(t){t.stopPropagation(),r.toggleClass("hidden")}),s.on("duck.form.success",function(t){t.stopPropagation();var e="https://s3-us-west-2.amazonaws.com/stellaroute/"+o.val().replace(".jpg","-large.jpg");s.modal("hide"),d.css("background-image",'url("'+e+'")'),r.toggleClass("hidden"),n.prop("disabled",!1),c.click()}),s.on("duck.form.error",function(t){t.stopPropagation();var e=w.clone();s.prepend(e),setTimeout(function(){e.slideUp(270)},3e3),setTimeout(function(){e.remove()},3270),r.toggleClass("hidden"),n.prop("disabled",!1)})})}(jQuery.noConflict());
//# sourceMappingURL=guide.min.js.map
