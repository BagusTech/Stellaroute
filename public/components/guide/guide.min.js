"use strict";void function(t){function a(t){t.stopPropagation(),t.preventDefault();var a=t.data.cardsWrapper,e=a.find('[data-sort="item"]'),d=t.data.expandeCollapseIcon,i=d.hasClass("fa-compress"),s=t.data.previewCardsIcon;a.find('[role="tab"][aria-expanded="'+!!i+'"]').click(),e.addClass("guide-card--edit-mode"),d.toggleClass("fa-compress fa-expand"),s.removeClass("fa-pencil").addClass("fa-eye")}function e(t){t.stopPropagation(),t.preventDefault();var a=t.data.cardsWrapper,e=t.data.expandeCollapseIcon,d=a.find(".js-card"),i=t.data.previewCardsIcon;a.find('[role="tab"][aria-expanded="false"]').click(),e.removeClass("fa-expand").addClass("fa-compress"),i.hasClass("fa-eye")?d.trigger("exitEditMode"):d.trigger("enterEditMode"),i.toggleClass("fa-eye fa-pencil")}function d(a){a.data.cardsWrapper.find('[duck-button="add"]').addClass("hidden"),a.data.addCardIcon.removeClass("rotate-45"),t(a.currentTarget).off("click",d)}function i(a){a.stopPropagation(),a.preventDefault();var e=a.data.cardsWrapper,i=a.data.addCardIcon,s=e.find('[duck-button="add"]');e.prop("ArrayItemTemplate",a.data.cardTemplate),s.removeClass("hidden"),i.hasClass("rotate-45")?t("body").click():(t("body").on("click",{cardsWrapper:e,addCardIcon:i},d),i.addClass("rotate-45"))}function s(a){var e=t(a),d=e.find('.panel-heading[role="tab"]'),i=e.find('[duck-field="style"] select'),s=e.find(".card-styles--preview"),l=e.find('[duck-type="string"] [duck-value]'),o=e.find(".js-card-title"),u=e.find('[duck-type="image"] [duck-value]'),p=e.find(".js-card-image"),g=e.find(".summernote"),v=e.find(".js-card-text"),f=e.find(".js-card-toggle");f.on("click",function(t){t.stopPropagation(),t.preventDefault(),e.parent().hasClass("guide-card--edit-mode")?e.trigger("exitEditMode"):e.trigger("enterEditMode")}),e.on("exitEditMode",function(){e.parent().removeClass("guide-card--edit-mode"),"false"===d.attr("aria-expanded")&&d.click()}),e.on("enterEditMode",function(){e.parent().addClass("guide-card--edit-mode")}),l.on("input",function(t){t.stopPropagation(),t.preventDefault(),o.text(l.val()||n)}),g.on("summernote.change",function(t,a){v.html(a||r)}),i.on("input",function(t){t.stopPropagation(),t.preventDefault(),s.removeClass("card-styles--preview__active"),e.find('.card-styles--preview[card-style="'+i.val()+'"]').addClass("card-styles--preview__active")}),u.on("change",function(a){a.stopPropagation(),a.preventDefault();var e=u.val()?"https://s3-us-west-2.amazonaws.com/stellaroute/"+u.val().replace(".","-medium."):c;p.each(function(a,d){var i=t(d);i.attr("style")?i.attr("style","background-image: url('"+e+"')"):i.attr("src",e)})})}var n="Card Title",r="This is where the <strong>Text</strong> for the card will go.",c="images/no-image.svg";t.fn.guideCard=function(){return this.each(function(t,a){s(a)})},t(function(){var d=t("#GuideDetailsForm"),s=d.find('[duck-button="submit"]'),n=s.find(".fa"),r=d.find('[duck-button="edit"]'),c=r.find(".fa"),l=t("#GuideCards"),o=l.find('[duck-button="submit"]'),u=o.find(".fa"),p=t(".js-guide-cards"),g=t(".js-expand-collapse"),v=g.find(".fa"),f=t(".js-preview-cards"),m=f.find(".fa"),b=t(".js-add-card-start"),h=b.find(".fa"),y=t('\n\t\t\t<div duck-type="object">\n\t\t\t\t<button class="btn btn-default guide-card--add-card" duck-button=\'add\', duck-add=\'before\'>\n\t\t\t\t\t<span>Add&nbsp;</span>\n\t\t\t\t\t<i class=\'fa fa-chevron-right\' aria-hidden=\'true\'></i>\n\t\t\t\t</button>\n\t\t\t\t<div class="input-group guide-card--admin js-card guide-card--big" data-sort="item">\n\t\t\t\t\t<button class="btn btn-default guide-card--edit-toggle js-card-toggle">\n\t\t\t\t\t\t<i class="fa fa-pencil" aria-hidden="true"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class="input-group-addon" data-sort="handle">\n\t\t\t\t\t\t<i class="fa fa-arrows-v" aria-hidden="true"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="panel panel-default" data-function="accordion" data-position="0.2">\n\t\t\t\t\t\t<div class="panel-heading" role="tab" aria-expanded="true" id="NewCard">\n\t\t\t\t\t\t\t<h2 class="panel-title js-card-title">New Card</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="p-0" role="tabpanel" aria-hidden="false" style="display: block;">\n\t\t\t\t\t\t\t<div class="panel-body">\n\t\t\t\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t\t\t\t<div class="col-xs-12 col-md-6 guide-card--edit">\n\t\t\t\t\t\t\t\t\t\t<div class="form-horizontal">\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-group" duck-field="title" duck-type="string">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="col-sm-2 control-label">Title</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-10">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input class="form-control" duck-value="" value="New Card" type="text" />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-group" duck-field="image" duck-type="image">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="col-sm-2 control-label">Image</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-10">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input class="hidden" duck-value="" value="" type="hidden" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-control" duck-button="image-select">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-image" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="pl-Sm" duck-image-value=""></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-group" duck-field="text" duck-type="wysiwyg">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="col-sm-2 control-label">Text</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-10">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="summernote" style="display: none;">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tThis is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="form-group" duck-field="style" duck-type="select">\n\t\t\t\t\t\t\t\t\t\t\t\t<label class="col-sm-2 control-label">Style</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-10">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select class="form-control" duck-value="">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="big" selected="">Big Card</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="small">Small Card</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="section">Section</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="sub">Sub Section</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="img">Image Only</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="plain">Plain Text</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="white">White Text</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="danger">Danger Text</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="success">Success Text</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="info">Info Text</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="col-xs-12 col-md-6 guide-card--view">\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview" card-style="section">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 class="guide-card--title js-card-title">New Card\n\t\t\t\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="sub">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 class="guide-card--title js-card-title">New Card\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper card-styles--preview__active" card-style="big">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img class="guide-card--img js-card-image" src="/images/no-image.svg">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 class="guide-card--title js-card-title">New Card\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="small">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img class="guide-card--img js-card-image" src="/images/no-image.svg">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 class="guide-card--title js-card-title">New Card\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="img">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<img class="guide-card--img js-card-image" src="/images/no-image.svg">\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="plain">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="white">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="danger">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="success">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="card-styles--preview guide-card--wrapper" card-style="info">\n\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--card guide-card--card__big">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--body">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="guide-card--text js-card-text">This is there the Text goes\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="panel-footer text-right">\n\t\t\t\t\t\t\t\t<button class="btn btn-danger" duck-button="delete">Delete Card</button>\n\t\t\t\t\t\t\t\t<button class="btn btn-info js-card-toggle">Preview</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t');t(".js-card").guideCard(),l.on("duck.form.submitted",function(t){t.stopPropagation(),u.toggleClass("fa-spinner fa-spin fa-floppy-o")}),l.on("duck.form.success",function(t){t.stopPropagation(),u.toggleClass("fa-spinner fa-spin fa-floppy-o"),o.prop("disabled",!1),p.find(".js-card").trigger("exitEditMode"),m.removeClass("fa-eye").addClass("fa-pencil")}),l.on("duck.form.error",function(a){a.stopPropagation();var e=t('<div class="alert alert-danger p-A z-1 l-0 r-0 t-0">Something went wrong, please try again.</div>');p.prepend(e),setTimeout(function(){e.slideUp(270)},3e3),setTimeout(function(){e.remove()},3270),u.toggleClass("fa-spinner fa-spin fa-floppy-o"),o.prop("disabled",!1)}),b.on("click",{cardsWrapper:p,addCardIcon:h,cardTemplate:y},i),g.on("click",{cardsWrapper:p,expandeCollapseIcon:v,previewCardsIcon:m},a),f.on("click",{cardsWrapper:p,expandeCollapseIcon:v,previewCardsIcon:m},e),r.on("click",function(t){t.stopPropagation(),t.preventDefault(),c.toggleClass("fa-eye fa-pencil")}),d.on("duck.form.submitted",function(t){t.stopPropagation(),n.toggleClass("hidden")}),d.on("duck.form.success",function(t){t.stopPropagation(),n.toggleClass("hidden"),s.prop("disabled",!1),r.click()}),d.on("duck.form.error",function(t){t.stopPropagation(),n.toggleClass("hidden"),s.prop("disabled",!1)})})}(jQuery.noConflict());
//# sourceMappingURL=guide.min.js.map
