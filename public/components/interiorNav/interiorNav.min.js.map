{"version":3,"sources":["components/interiorNav/interiorNav.js"],"names":["$","checkForActiveTabChange","e","$wrapper","data","wrapper","$nodes","contentScrollWrap","nodes","$contentScrollWrap","isWindow","filter","i","node","is","offset","top","scrollTop","$allActiveNodes","last","currentPosition","$activeNodes","newActiveNode","length","activePosition","removeActive","removeClass","$activeNodeParent","find","split","$activeNode","trigger","scrollTo","preventDefault","$content","content","attr","position","$goTo","$this","off","goToVal","animate","on","toggleNav","setTimeout","$toggleIcon","toggleIcon","stopPropagation","userDefinedOffset","toggleClass","contentWrapper","window","interiorNav","$toggle","this","each","index","jQuery","noConflict"],"mappings":"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","file":"interiorNav.min.js","sourcesContent":["/*global jQuery */\r\n\r\nvoid function initInteriorNav($) {\r\n\t'use strict';\r\n\r\n\tfunction checkForActiveTabChange(e) {\r\n\t\tconst $wrapper = e.data.wrapper;\r\n\t\tconst $nodes = e.data.nodes;\r\n\t\tconst $contentScrollWrap = e.data.contentScrollWrap;\r\n\t\tconst isWindow = e.data.isWindow;\r\n\t\tconst scrollTop = $contentScrollWrap.scrollTop();\r\n\t\tconst $allActiveNodes = $nodes.filter((i, node) => $(node).is(':visible') && $(node).offset().top <= (isWindow ? scrollTop : e.data.offset));\r\n\t\tconst $activeNodes = $wrapper.find('.active');\r\n\t\tconst activePosition = $allActiveNodes.last().attr('data-position');\r\n\t\tconst currentPosition = $activeNodes.last().attr('data-position')\r\n\t\tconst newActiveNode = ($allActiveNodes.length && (activePosition !== currentPosition));\r\n\t\tconst removeActive = (!$allActiveNodes.length && $activeNodes.length) || newActiveNode;\r\n\r\n\t\tif (removeActive) {\r\n\t\t\t$wrapper.find('a').removeClass('interior-nav--node__active');\r\n\t\t}\r\n\r\n\t\tif (newActiveNode){\r\n\t\t\tconst $activeNode = $wrapper.find(`[data-position=\"${activePosition}\"]`)\r\n\t\t\tconst $activeNodeParent = $wrapper.find(`[data-position=\"${activePosition.split('.')[0]}\"]`);\r\n\r\n\t\t\t$activeNode.addClass('interior-nav--node__active');\r\n\r\n\t\t\tif ($activeNodeParent.attr('aria-expanded') === 'false') {\r\n\t\t\t\t$activeNodeParent.trigger('tab-change');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction scrollTo(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst $wrapper = e.data.wrapper;\r\n\t\tconst $nodes = e.data.nodes;\r\n\t\tconst $contentScrollWrap = e.data.contentScrollWrap;\r\n\t\tconst $content = e.data.content;\r\n\t\tconst offset = e.data.offset;\r\n\t\tconst isWindow = e.data.isWindow;\r\n\t\tconst $this = $(this);\r\n\t\tconst position = $this.attr('data-position');\r\n\t\tconst $goTo = $nodes.filter((i, node) => $(node).attr('data-position') === position && $(node).is(':visible'));\r\n\t\tconst goToVal = isWindow ? $goTo.offset().top : ($goTo.offset().top - $content.offset().top - offset);\r\n\r\n\t\t$wrapper.find('a').removeClass('interior-nav--node__active');\r\n\t\t$this.addClass('interior-nav--node__active');\r\n\r\n\t\t$contentScrollWrap.off('scroll', checkForActiveTabChange);\r\n\r\n\t\tif (isWindow) {\r\n\t\t\t$content.animate({scrollTop: goToVal});\r\n\t\t} else {\r\n\t\t\t$contentScrollWrap.trigger('scrollTo', [goToVal]);\r\n\t\t}\r\n\r\n\t\t// don't check for active tab change when we know it's happening causing it to trigger twice\r\n\t\tsetTimeout(() => {\r\n\t\t\t$contentScrollWrap.on('scroll', {wrapper: $wrapper, nodes: $nodes, contentScrollWrap: $contentScrollWrap, offset, isWindow}, checkForActiveTabChange);\r\n\t\t}, $wrapper.attr('data-animation-speed') || 500);\r\n\t}\r\n\r\n\tfunction toggleNav(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\r\n\t\tconst $wrapper = e.data.wrapper;\r\n\t\tconst $toggleIcon = e.data.toggleIcon;\r\n\r\n\t\t$wrapper.toggleClass('interior-nav__active');\r\n\t\t$toggleIcon.toggleClass('fa-rotate-180')\r\n\t}\r\n\r\n\tfunction interiorNav(wrapper, contentWrapper, userDefinedOffset) {\r\n\t\tconst $wrapper = $(wrapper);\r\n\t\tconst isWindow = !(contentWrapper || $wrapper.attr('data-interior-nav-content-wrapper'));\r\n\t\tconst $contentScrollWrap = contentWrapper ? $(contentWrapper) : \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t($wrapper.attr('data-interior-nav-content-wrapper') ? $($wrapper.attr('data-interior-nav-content-wrapper')) :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$(window));\r\n\t\tconst $content = isWindow ? $('html, body') : $contentScrollWrap.find('> [data-scroll=\"content\"]');\r\n\t\tconst $nodes = $('.js-nav-nodes [data-position]');\r\n\t\tconst $toggle = $wrapper.find('[data-interior-nav=\"toggle\"]');\r\n\t\tconst $toggleIcon = $toggle.find('.fa');\r\n\t\tconst offset = userDefinedOffset || $wrapper.attr('data-interior-nav-offset') || 24;\r\n\r\n\t\t\r\n\t\t$toggle.off('click', toggleNav).on('click', {wrapper: $wrapper, toggleIcon: $toggleIcon}, toggleNav);\r\n\t\t$wrapper.find('a').off('click', scrollTo).on('click', {wrapper: $wrapper, nodes: $nodes, contentScrollWrap: $contentScrollWrap, content: $content, offset, isWindow}, scrollTo);\r\n\t\t$contentScrollWrap.off('scroll', checkForActiveTabChange).on('scroll', {wrapper: $wrapper, nodes: $nodes, contentScrollWrap: $contentScrollWrap, offset, isWindow}, checkForActiveTabChange);\r\n\t}\r\n\r\n\t$.fn.interiorNav = function(contentWrapper, offset) {\r\n\t\treturn this.each((index, wrapper) => {\r\n\t\t\tinteriorNav(wrapper, contentWrapper, offset);\r\n\t\t});\r\n\t};\r\n\r\n\t$(() => $('[data-function*=\"interiorNav\"]').interiorNav());\r\n}(jQuery.noConflict());"]}