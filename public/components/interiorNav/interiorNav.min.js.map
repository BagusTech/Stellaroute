{"version":3,"sources":["components/interiorNav/interiorNav.js"],"names":["$","checkForActiveTabChange","e","$wrapper","data","wrapper","$nodes","contentScrollWrap","nodes","$contentScrollWrap","isWindow","filter","i","node","is","offset","top","scrollTop","$allActiveNodes","last","attr","$currentActiveNode","activePosition","$activeNodes","find","currentPosition","length","$newActiveNode","removeActive","removeClass","split","addClass","$activeNodeParent","trigger","scrollTo","preventDefault","$content","content","position","$goTo","$this","off","goToVal","animate","on","toggleNav","setTimeout","$toggleIcon","toggleIcon","stopPropagation","userDefinedOffset","toggleClass","contentWrapper","window","interiorNav","$toggle","jQuery","noConflict"],"mappings":"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","file":"interiorNav.min.js","sourcesContent":["/*global jQuery */\r\n\r\nvoid function initInteriorNav($) {\r\n\t'use strict';\r\n\r\n\tfunction checkForActiveTabChange(e) {\r\n\t\tconst $wrapper = e.data.wrapper;\r\n\t\tconst $nodes = e.data.nodes;\r\n\t\tconst $contentScrollWrap = e.data.contentScrollWrap;\r\n\t\tconst isWindow = e.data.isWindow;\r\n\t\tconst scrollTop = $contentScrollWrap.scrollTop();\r\n\t\tconst $allActiveNodes = $nodes.filter((i, node) => $(node).is(':visible') && $(node).offset().top <= (isWindow ? scrollTop : e.data.offset));\r\n\t\tconst $activeNodes = $wrapper.find('.active');\r\n\t\tconst currentPosition = $activeNodes.last().attr('data-position');\r\n\t\tconst $currentActiveNode = $wrapper.find(`[data-position=\"${currentPosition}\"]`);\r\n\t\tconst activePosition = $allActiveNodes.last().attr('data-position');\r\n\t\tconst $newActiveNode = $wrapper.find(`[data-position=\"${activePosition}\"]`)\r\n\t\tconst removeActive = (!$allActiveNodes.length && $activeNodes.length) || $newActiveNode.length;\r\n\r\n\t\tif (removeActive) {\r\n\t\t\t$wrapper.find('a').removeClass('interior-nav--node__active');\r\n\t\t}\r\n\r\n\t\tif ($newActiveNode.length && ($currentActiveNode[0] !== $newActiveNode[0])){\r\n\t\t\tconst $activeNodeParent = $wrapper.find(`[data-position=\"${activePosition.split('.')[0]}\"]`);\r\n\r\n\t\t\t$newActiveNode.addClass('interior-nav--node__active');\r\n\r\n\t\t\tif ($activeNodeParent.attr('aria-expanded') === 'false') {\r\n\t\t\t\t$activeNodeParent.trigger('tab-change');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction scrollTo(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst $wrapper = e.data.wrapper;\r\n\t\tconst $nodes = e.data.nodes;\r\n\t\tconst $contentScrollWrap = e.data.contentScrollWrap;\r\n\t\tconst $content = e.data.content;\r\n\t\tconst offset = e.data.offset;\r\n\t\tconst isWindow = e.data.isWindow;\r\n\t\tconst $this = $(this);\r\n\t\tconst position = $this.attr('data-position');\r\n\t\tconst $goTo = $nodes.filter((i, node) => $(node).attr('data-position') === position && $(node).is(':visible'));\r\n\t\tconst goToVal = isWindow ? $goTo.offset().top : ($goTo.offset().top - $content.offset().top - offset);\r\n\r\n\t\t$wrapper.find('a').removeClass('interior-nav--node__active');\r\n\t\t$this.addClass('interior-nav--node__active');\r\n\r\n\t\t$contentScrollWrap.off('scroll', checkForActiveTabChange);\r\n\r\n\t\tif (isWindow) {\r\n\t\t\t$content.animate({scrollTop: goToVal});\r\n\t\t} else {\r\n\t\t\t$contentScrollWrap.trigger('scrollTo', [goToVal]);\r\n\t\t}\r\n\r\n\t\t// don't check for active tab change when we know it's happening causing it to trigger twice\r\n\t\tsetTimeout(() => {\r\n\t\t\t$contentScrollWrap.on('scroll', {wrapper: $wrapper, nodes: $nodes, contentScrollWrap: $contentScrollWrap, offset, isWindow}, checkForActiveTabChange);\r\n\t\t}, $wrapper.attr('data-animation-speed') || 500);\r\n\t}\r\n\r\n\tfunction toggleNav(e) {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\r\n\t\tconst $wrapper = e.data.wrapper;\r\n\t\tconst $toggleIcon = e.data.toggleIcon;\r\n\r\n\t\t$wrapper.toggleClass('interior-nav__active');\r\n\t\t$toggleIcon.toggleClass('fa-rotate-180')\r\n\t}\r\n\r\n\tfunction interiorNav(wrapper, contentWrapper, userDefinedOffset) {\r\n\t\tconst $wrapper = $(wrapper);\r\n\t\tconst isWindow = !(contentWrapper || $wrapper.attr('data-interior-nav-content-wrapper'));\r\n\t\tconst $contentScrollWrap = contentWrapper ? $(contentWrapper) : \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t($wrapper.attr('data-interior-nav-content-wrapper') ? $($wrapper.attr('data-interior-nav-content-wrapper')) :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$(window));\r\n\t\tconst $content = isWindow ? $('html, body') : $contentScrollWrap.find('> [data-scroll=\"content\"]');\r\n\t\tconst $nodes = $('.js-nav-nodes [data-position]');\r\n\t\tconst $toggle = $wrapper.find('[data-interior-nav=\"toggle\"]');\r\n\t\tconst $toggleIcon = $toggle.find('.fa');\r\n\t\tconst offset = userDefinedOffset || $wrapper.attr('data-interior-nav-offset') || 24;\r\n\t\t\r\n\t\t$toggle.off('click', toggleNav).on('click', {wrapper: $wrapper, toggleIcon: $toggleIcon}, toggleNav);\r\n\t\t$wrapper.find('a').off('click', scrollTo).on('click', {wrapper: $wrapper, nodes: $nodes, contentScrollWrap: $contentScrollWrap, content: $content, offset, isWindow}, scrollTo);\r\n\t\t$contentScrollWrap.off('scroll', checkForActiveTabChange).on('scroll', {wrapper: $wrapper, nodes: $nodes, contentScrollWrap: $contentScrollWrap, offset, isWindow}, checkForActiveTabChange);\r\n\t}\r\n\r\n\t$.fn.interiorNav = function(contentWrapper, offset) {\r\n\t\treturn this.each((index, wrapper) => {\r\n\t\t\tinteriorNav(wrapper, contentWrapper, offset);\r\n\t\t});\r\n\t};\r\n\r\n\t$(() => $('[data-function*=\"interiorNav\"]').interiorNav());\r\n}(jQuery.noConflict());"]}