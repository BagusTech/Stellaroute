{"version":3,"sources":["components/scroll/scroll.js"],"names":["$","initScroll","wrapper","$contentWrapper","$wrapper","find","$content","$scrollBar","$scrollBarButton","scrollProperties","scrollBarHeight","outerHeight","maxTop","ratio","contentWrapperHeight","percentDone","trigger","customScrolling","e","animate","stopPropagation","moving","clientY","trueTop","scrollTopOffset","topOffset","maxScroll","scrollTopCalc","trueScrollTop","scrollTopMax","scrollTop","startScrolling","which","leftClick","offset","position","top","mousemove","unbind","scrollSpeed","sideBarScroll","setInterval","scrollBy","isUnderScrollBarButton","isOverScrollBarButton","clearInterval","scrolling","moveScrollBar","moveTop","checkReInitScroll","value","removeClass","init","scrollBarHeightRatio","contentHeight","scrollBarHeightTrue","mousedown","on","document","stopScrolling","addClass","this","each","index","customScroll","jQuery","noConflict"],"mappings":"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","file":"scroll.min.js","sourcesContent":["/*global jQuery */\r\nvoid function initializeCustomScroll($) {\r\n    'use strict';\r\n\r\n    const initScroll = function initScroll(wrapper) {\r\n\r\n        const $wrapper = $(wrapper);\r\n        const $contentWrapper = $wrapper.find('> [data-scroll=\"content-wrapper\"]');\r\n        const $content = $contentWrapper.find('[data-scroll=\"content\"]');\r\n        const $scrollBar = $wrapper.find('> [data-scroll=\"scrollbar\"]');\r\n        const $scrollBarButton = $scrollBar.find('button');\r\n        const scrollProperties = {};\r\n\r\n        $scrollBarButton.outerHeight(scrollProperties.scrollBarHeight);\r\n\r\n        const percentDone = function() { return $contentWrapper.scrollTop() / ((scrollProperties.maxTop*scrollProperties.ratio)-scrollProperties.contentWrapperHeight);}\r\n\r\n        const checkReInitScroll = function() {\r\n            if (scrollProperties.contentWrapperHeight !== $contentWrapper.outerHeight()-6 || scrollProperties.contentHeight !== $content.outerHeight()){\r\n                $wrapper.trigger('initScroll');\r\n                return;\r\n            }\r\n        };\r\n\r\n        const customScrolling = function customScrolling(e, animate) {\r\n            e.stopPropagation();\r\n\r\n            if (scrollProperties.moving){\r\n                const trueTop = (e.clientY - scrollProperties.offset);\r\n                const trueScrollTop = trueTop * scrollProperties.ratio;\r\n                const scrollTopOffset = scrollProperties.topOffset * percentDone();\r\n                const scrollTopCalc = trueScrollTop - scrollTopOffset;\r\n                const scrollTopMax = scrollTopCalc > scrollProperties.maxScroll ? scrollProperties.maxScroll : scrollTopCalc;\r\n                const scrollTop = scrollTopCalc > 0 ? scrollTopMax : 0;\r\n\r\n                if (animate){\r\n                    $contentWrapper.animate({scrollTop});\r\n                } else {\r\n                    $contentWrapper.scrollTop(scrollTop);\r\n                }\r\n            }\r\n        };\r\n\r\n        const startScrolling = function startScrolling(e) {\r\n            e.stopPropagation();\r\n\r\n            if (e.which === scrollProperties.leftClick){\r\n                scrollProperties.moving = true;\r\n                scrollProperties.offset = e.clientY - $scrollBarButton.position().top;\r\n              $('body').mousemove(customScrolling);\r\n            }\r\n        };\r\n\r\n        const stopScrolling = function stopScrolling() {\r\n            if (scrollProperties.moving){\r\n                scrollProperties.moving = false;\r\n                $('body').unbind('mousemove', customScrolling);\r\n            }\r\n        };\r\n\r\n        const sideBarScroll = function sideBarScroll(e) {\r\n            e.stopPropagation();\r\n\r\n            const scrollSpeed = 50;\r\n            let scrollBy = 2;\r\n            scrollProperties.moving = true;\r\n\r\n            const scrolling = setInterval(() => {\r\n                if (scrollProperties.moving){\r\n                    const isOverScrollBarButton = $scrollBarButton.offset().top > e.clientY;\r\n                    const isUnderScrollBarButton = $scrollBarButton.offset().top + (scrollProperties.scrollBarHeight / 2)\r\n                                                   < e.clientY;\r\n\r\n                    if (!isOverScrollBarButton && !isUnderScrollBarButton){\r\n                        return;\r\n                    }\r\n\r\n                    if (isOverScrollBarButton) {\r\n                        $contentWrapper.scrollTop($contentWrapper.scrollTop() - scrollBy);\r\n                    } else if (isUnderScrollBarButton){\r\n                        $contentWrapper.scrollTop($contentWrapper.scrollTop() + scrollBy);\r\n                    }\r\n\r\n                    scrollBy++;\r\n                } else {\r\n                    clearInterval(scrolling);\r\n                }\r\n            }, scrollSpeed);\r\n        };\r\n\r\n        const moveScrollBar = function moveScrollBar(e){\r\n            e.stopPropagation();\r\n\r\n            checkReInitScroll();\r\n\r\n            const moveTop = scrollProperties.maxTop*percentDone();\r\n            $scrollBarButton.css('top', `${moveTop}px`);\r\n        }\r\n\r\n        const scrollTo = function scrollTo(e, value) {\r\n            $contentWrapper.animate({scrollTop: value});\r\n        };\r\n\r\n        const init = function init() {\r\n            $wrapper.removeClass('no-scrollbar');\r\n\r\n            scrollProperties.contentHeight = $content.outerHeight();\r\n            scrollProperties.contentWrapperHeight = $contentWrapper.outerHeight()-6; // minus 6 for styling purposes\r\n            scrollProperties.scrollBarHeightRatio = (scrollProperties.contentWrapperHeight+6) / scrollProperties.contentHeight;\r\n            scrollProperties.scrollBarHeightTrue = (scrollProperties.contentWrapperHeight+6) * scrollProperties.scrollBarHeightRatio;\r\n            scrollProperties.scrollBarHeight = scrollProperties.scrollBarHeightTrue <= 0 ? 0 : scrollProperties.scrollBarHeightTrue;\r\n            scrollProperties.maxScroll = scrollProperties.contentHeight - scrollProperties.contentWrapperHeight;\r\n            scrollProperties.ratio = scrollProperties.contentHeight/ (scrollProperties.contentWrapperHeight - scrollProperties.scrollBarHeight);\r\n            scrollProperties.topOffset = scrollProperties.contentHeight - scrollProperties.maxScroll;\r\n            scrollProperties.maxTop = scrollProperties.contentWrapperHeight - scrollProperties.scrollBarHeight;\r\n            scrollProperties.leftClick = 1;\r\n            scrollProperties.moving = false;\r\n            scrollProperties.offset = 0;\r\n\r\n            $scrollBarButton.outerHeight(scrollProperties.scrollBarHeight);\r\n\r\n            if (scrollProperties.scrollBarHeightRatio >= 1){\r\n                $wrapper.addClass('no-scrollbar');\r\n            }\r\n        };\r\n\r\n        $scrollBar.mousedown(sideBarScroll);\r\n        $scrollBarButton.mousedown(startScrolling);\r\n        $contentWrapper.on('scroll', moveScrollBar)      \r\n        $contentWrapper.on('scrollTo', scrollTo);\r\n        $(document).mouseup(stopScrolling);\r\n        $wrapper.on('initScroll', init);\r\n\r\n        if (scrollProperties.scrollBarHeightRatio >= 1){\r\n            $wrapper.addClass('no-scrollbar');\r\n        }\r\n\r\n        $(window).on('load', checkReInitScroll);\r\n\r\n        $wrapper.trigger('initScroll');\r\n    };\r\n\r\n    $.fn.customScroll = function init() {\r\n        return this.each((index, wrapper) => {\r\n            initScroll(wrapper);\r\n        });\r\n    };\r\n\r\n    $(() => $('[data-function*=\"scroll\"]').customScroll());\r\n}(jQuery.noConflict());\r\n"]}