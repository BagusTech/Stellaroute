{"version":3,"sources":["components/stickey/stickey.js"],"names":["$","reInitStickey","e","userDefinedOffset","nextStickeyElem","stopPropagation","makeStickey","data","wrapper","$content","content","$wrapper","each","i","c","css","outerWidth","height","removeClass","scrollTop","top","prop","outerHeight","setOffset","offset","attr","$scrollWrapper","nextAll","first","length","$nextStickeyElem","bottom","find","defaultBottom","userDefinedTop","checkStickey","hasClass","initStickey","on","scrollWrapper","off","makeStuck","window","fn","stickey","index","init","noConflict"],"mappings":"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","file":"stickey.min.js","sourcesContent":["// make as jQuery plugin\r\n// options\r\n// -- top offset\r\n// -- bottom offset\r\n// -- on what scroll\r\n// -- starting top position\r\n\r\n\r\n/*global jQuery */\r\nvoid function initializeStickeyAddon($) {\r\n\t'use strict';\r\n\r\n\tfunction reInitStickey(e, userDefinedOffset, nextStickeyElem) {\r\n\t\te.stopPropagation();\r\n\r\n\t\te.data.wrapper.stickey(userDefinedOffset, nextStickeyElem);\r\n\t}\r\n\r\n\tfunction makeStickey(e) {\r\n\t\te.stopPropagation();\r\n\r\n\t\tconst $wrapper = e.data.wrapper;\r\n\t\tconst $content = e.data.content;\r\n\r\n\t\t$wrapper.height($wrapper.outerHeight(true));\r\n\t\t$content.each((i, c) => {$(c).css('width', $(c).outerWidth());});\r\n\t\t$wrapper.addClass('stickey');\r\n\t\t$wrapper.removeClass('stuck');\r\n\t\t$content.css('top', '');\r\n\t}\r\n\r\n\tfunction makeStuck(e, scrollTop) {\r\n\t\te.stopPropagation();\r\n\r\n\t\tconst $wrapper = e.data.wrapper;\r\n\t\tconst $content = e.data.content;\r\n\r\n\t\tconst top = scrollTop - $wrapper.prop('stickeyTop');\r\n\r\n\t\t$wrapper.removeClass('stickey');\r\n\t\t$wrapper.height($wrapper.outerHeight(true));\r\n\t\t$wrapper.addClass('stuck');\r\n\t\t$content.css('top', `${top}px`)\r\n\t}\r\n\r\n\tconst setOffset = function(e){\r\n\t\te.stopPropagation();\r\n\r\n\t\tconst $wrapper = e.data.wrapper;\r\n\t\tconst $scrollWrapper = e.data.scrollWrapper;\r\n\t\tconst offset = e.data.offset;\r\n\t\tconst nextStickeyElem = e.data.nextStickeyElem;\r\n\t\tconst userDefinedTop = offset && offset.top || ($wrapper.attr('data-stickey-top') ? ($($wrapper.attr('data-stickey-top')).offset().top + $scrollWrapper.scrollTop() - $($wrapper.attr('data-stickey-top')).outerHeight(true)) : false);\r\n\t\tconst $nextStickeyElem = (nextStickeyElem && $(nextStickeyElem)) || $wrapper.nextAll('[data-function*=\"stickey\"]').first();\r\n\t\tconst defaultBottom = ($nextStickeyElem.length && $nextStickeyElem.offset().top + $scrollWrapper.scrollTop() - $wrapper.outerHeight(true)) || false;\r\n\t\tconst userDefinedBottom = (offset && offset.bottom) || ($wrapper.attr('data-stickey-bottom') ? ($($wrapper.attr('data-stickey-bottom')).offset().top - $wrapper.find('[data-stickey=\"content\"]').outerHeight(true)) : false);\r\n\r\n\t\t$wrapper.prop('stickeyTop', userDefinedTop ? $wrapper.offset().top - userDefinedTop + $wrapper.outerHeight(true) : $wrapper.offset().top);\r\n\t\t$wrapper.prop('stickeyBottom', userDefinedBottom || defaultBottom);\r\n\t};\r\n\r\n\tconst initStickey = function(wrapper, userDefinedOffset, nextStickeyElem){\r\n\t\tconst $wrapper = $(wrapper);\r\n\t\tconst $content = $wrapper.find('[data-stickey=\"content\"]');\r\n\t\tconst $scrollWrapper = $wrapper.attr('data-stickey-scroll-wrapper') || \r\n\t\t\t\t\t\t\t\t$wrapper.closest('[data-scroll=\"content-wrapper\"').length ?\r\n\t\t\t\t\t\t\t\t\t$wrapper.closest('[data-scroll=\"content-wrapper\"') :\r\n\t\t\t\t\t\t\t\t\t$(window);\r\n\r\n\t\t$wrapper.on('setStickeyOffset', {wrapper: $wrapper, scrollWrapper: $scrollWrapper, userDefinedOffset, nextStickeyElem}, setOffset)\r\n\t\t$wrapper.trigger('setStickeyOffset');\r\n\r\n\t\tfunction checkStickey(e) {\r\n\t\t\te.stopPropagation();\r\n\t\t\tconst scrollTop = $scrollWrapper.scrollTop();\r\n\r\n\t\t\tif(scrollTop > $wrapper.prop('stickeyTop') && (!$wrapper.prop('stickeyBottom') || scrollTop < $wrapper.prop('stickeyBottom'))){\r\n\t\t\t\tif(!$wrapper.hasClass('stickey')){\r\n\t\t\t\t\t$wrapper.trigger('StickeyStick');\r\n\t\t\t\t}\r\n\t\t\t} else if ($wrapper.prop('stickeyBottom') && scrollTop >= ($wrapper.prop('stickeyBottom'))){\r\n\t\t\t\tif(!$wrapper.hasClass('stuck')){\r\n\t\t\t\t\t$wrapper.trigger('StickeyStuck', [scrollTop]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t$wrapper.css('height', '');\r\n\t\t\t\t$content.css('width', '');\r\n\t\t\t\t$content.css('top', '');\r\n\t\t\t\t$wrapper.removeClass('stickey stuck');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$wrapper.on('tab-changed', () => {\r\n\t\t\t$wrapper.trigger('setStickeyOffset');\r\n\t\t});\r\n\r\n\t\t$scrollWrapper.off('scroll', checkStickey).on('scroll', checkStickey);\r\n\t\t$scrollWrapper.off('StickeyStick', makeStickey).on('StickeyStick', {wrapper: $wrapper, content: $content}, makeStickey);\r\n\t\t$scrollWrapper.off('StickeyStuck', makeStuck).on('StickeyStuck', {wrapper: $wrapper, content: $content}, makeStuck);\r\n\t\t$wrapper.off('reInitStickey', reInitStickey).on('reInitStickey', reInitStickey);\r\n\t\t$wrapper.closest('[role=\"tab\"]').off('tab-changed', reInitStickey).on('tab-changed', reInitStickey);\r\n\r\n\t\t$(window).off('resize', reInitStickey).on('resize', {wrapper: $wrapper, userDefinedOffset, nextStickeyElem}, reInitStickey);\r\n\t}\r\n\r\n\t$.fn.stickey = function init(offset, nextStickeyElem) {\r\n\t\treturn this.each((index, wrapper) => {\r\n\t\t\tinitStickey(wrapper, offset, nextStickeyElem);\r\n\t\t});\r\n\t};\r\n\r\n\t$('[data-function*=\"stickey\"]').stickey();\r\n\t$(window).on('load', () => { $('[data-function*=\"stickey\"]').stickey(); })\r\n}(jQuery.noConflict())"]}