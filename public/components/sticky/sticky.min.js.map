{"version":3,"sources":["components/sticky/sticky.js"],"names":["$","checkHeight","e","stopPropagation","preventDefault","data","wrapper","$sticky","sticky","$wrapper","removeClass","height","contentHeight","outerHeight","stickyHeight","windowHeight","window","stickyTop","parseInt","maxContentHeight","triggerCheckHeight","trigger","resize","resizeDebounce","clearTimeout","setTimeout","initSticky","closest","find","off","on","$triggerButtons","fn","stickyContent","index","each","noConflict"],"mappings":"iBAAA,UAAAA,GAGC,QAAAC,GAAAC,GAGCA,EAAEC,kBADHD,EAAAE,gBAECF,IAAEE,GAAFF,EAAAG,KAAAC,QAGMC,EAAUL,EAAEG,KAAKG,MAAvBC,GAAMF,IAAAA,SAAiBC,QAAvBE,YAAA,WAEAD,IAAAA,GAAAF,EAAAI,SAGMC,EAAgBH,EAASI,aAAY,GADrCC,EAAeP,EAAAA,QAAQI,SACvBC,EAAAA,EAAgBH,IAASI,OACzBE,EAAiBC,GAAvBC,EAAAC,SAAAD,EAAA,IAAA,IAAAH,EAAAF,GAAA,EAEAI,QAAMG,SAAAA,EAGNH,OAAOT,QAAUA,EADjBS,OAAOP,aAAWA,EAClBO,OAAOT,aAAUA,EACjBS,OAAOF,cAAeA,EAKnBF,GAAiBO,GAApBV,EAAGG,SAAAA,YAAiBO,OAApBA,GAKD,QAASC,GAAmBlB,GAA5BA,EAAAC,kBAGCD,EAAEG,KAAKC,QAAQe,QAAQ,eAGxB,QAASC,KAAT,GAAAC,GAAAA,MAGC,OAAO,UAACrB,GAARsB,aAAOD,GAGNA,EAAiBE,WAAW,WAA5BF,EAAAA,KAAAA,QAAAA,QAAiBE,gBACdpB,MAKL,GAAMqB,GAAa,SAASpB,GAA5B,GAAMoB,GAAa1B,EAAAM,GACZG,EAAWT,EAAjB2B,QAAA,WACMpB,EAAmBoB,EAAQC,KAAA,6BAGjCnB,GAASoB,IAAI,cAAe5B,GAAa6B,GAAG,eAAgBxB,QAASG,EAAUD,OAAQD,GAAUN,GAAjGQ,EAASoB,IAAI,cAAe5B,GAAgB6B,GAAA,eAAgBxB,QAASG,GAAUD,GAC/EC,EAAaoB,IAAA,QAAeT,GAAoBU,GAAG,SAAAxB,QAAgBA,GAASG,GAC5EsB,EAAAA,QAAAA,IAAAA,SAAoBT,GAASF,GAAAA,UAAAA,QAAuBX,GAAUH,KAG9DG,EAASY,QAAQ,eAGlBrB,GAAEgC,GAAGC,cAAgB,WAArBjC,MAAKiC,MAAAA,KAAL,SAAAC,EAAqB5B,GACpBoB,EAAYS,MAKbnC,EAAE,WAAQA,EAAE,sBAAsBiC,mBAAlCjC,OAAEoC","file":"sticky.min.js","sourcesContent":["/*global jQuery */\r\n\r\nvoid function initializeStickyContentAddon($) {\r\n\t'use strict';\r\n\r\n\tfunction checkHeight(e) {\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\r\n\t\tconst $wrapper = e.data.wrapper;\r\n\t\tconst $sticky = e.data.sticky;\r\n\r\n\t\t$wrapper.css('height', 'auto').removeClass('scroll-y');\r\n\r\n\t\tconst stickyHeight = $sticky.height();\r\n\t\tconst contentHeight = $wrapper.outerHeight(true);\r\n\t\tconst windowHeight = $(window).height();\r\n\t\tconst stickyTop = $sticky.css('top');\r\n\t\tconst maxContentHeight = windowHeight - (stickyTop ? parseInt(stickyTop, 10) : 0) - (stickyHeight - contentHeight) - 12;\r\n\r\n\t\twindow.$wrapper = $wrapper;\r\n\t\twindow.$sticky = $sticky;\r\n\t\twindow.stickyHeight = stickyHeight;\r\n\t\twindow.windowHeight = windowHeight;\r\n\t\twindow.contentHeight = contentHeight;\r\n\r\n\r\n\t\tif(contentHeight >= maxContentHeight) {\r\n\t\t\t$wrapper.addClass('scroll-y').height(maxContentHeight);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction triggerCheckHeight(e) {\r\n\t\te.stopPropagation();\r\n\r\n\t\te.data.wrapper.trigger('checkHeight');\r\n\t}\r\n\r\n\tfunction resize() {\r\n\t\tlet resizeDebounce;\r\n\r\n\t\treturn (e) => {\r\n\t\t\tclearTimeout(resizeDebounce);\r\n\r\n\t\t\tresizeDebounce = setTimeout(() => {\r\n\t\t\t\te.data.wrapper.trigger('checkHeight');\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t}\r\n\r\n\tconst initSticky = function(wrapper){\r\n\t\tconst $wrapper = $(wrapper);\r\n\t\tconst $sticky = $wrapper.closest('.sticky');\r\n\t\tconst $triggerButtons = $sticky.find('.js-sticky-content-trigger');\r\n\r\n\t\t$wrapper.off('checkHeight', checkHeight).on('checkHeight', {wrapper: $wrapper, sticky: $sticky}, checkHeight);\r\n\t\t$wrapper.off('tab-changed', triggerCheckHeight).on('tab-changed', {wrapper: $wrapper}, triggerCheckHeight);\r\n\t\t$triggerButtons.off('click', triggerCheckHeight).on('click', {wrapper: $wrapper}, triggerCheckHeight);\r\n\t\t$(window).off('resize', resize).on('resize', {wrapper: $wrapper}, resize());\r\n\r\n\t\t$wrapper.trigger('checkHeight');\r\n\t}\r\n\r\n\t$.fn.stickyContent = function init() {\r\n\t\treturn this.each((index, wrapper) => {\r\n\t\t\tinitSticky(wrapper);\r\n\t\t});\r\n\t};\r\n\r\n\t$(() => { $('.js-sticky-content').stickyContent(); })\r\n}(jQuery.noConflict())"]}