{"version":3,"sources":["components/sticky/sticky.js"],"names":["$","checkHeight","e","stopPropagation","preventDefault","data","wrapper","$sticky","sticky","$wrapper","removeClass","height","contentHeight","outerHeight","stickyHeight","offset","top","scrollTop","maxContentHeight","addClass","triggerCheckHeight","resize","resizeDebounce","clearTimeout","trigger","initSticky","find","$triggerButtons","on","off","fn","stickyContent","this","each","index","jQuery","noConflict"],"mappings":"iBAAA,UAAAA,GAGC,QAAAC,GAAAC,GAGCA,EAAEC,kBADHD,EAAAE,gBAECF,IAAEE,GAAFF,EAAAG,KAAAC,QAGMC,EAAUL,EAAEG,KAAKG,MAAvBC,GAAMF,IAAAA,SAAiBC,QAAvBE,YAAA,WAEAD,IAAAA,GAAAF,EAAAI,SAGMC,EAAgBH,EAASI,aAAY,GADrCC,EAAeP,EAAAA,QAAQI,SACvBC,EAAgBH,GAAqBF,EAA3CQ,SAAAC,IAAAhB,EAAA,cAAAiB,cAAAH,EAAAF,GAAA,EAEAA,IAAMM,GAGLT,EAASU,SAAS,YAAYR,OAAOO,GAEtC,QAAAE,GAAAlB,GAGAA,EAAEC,kBAAFD,EAAEC,KAAAA,QAAAA,QAAF,eAGA,QAAAkB,KAGA,GAAIC,GAAAA,MAAJ,OAAIA,UAAAA,GAGHC,aAAaD,GAAbC,EAAaD,WAAb,WAGCpB,EAAEG,KAAKC,QAAQkB,QAAQ,gBADxBF,MAID,GAAAG,GAAA,SAAAnB,GAGA,GAAMG,GAAWT,EAAEM,GADdmB,EAAahB,EAAbgB,QAAAA,WACChB,EAAWF,EAAjBmB,KAAA,6BAEAjB,GAAMkB,IAAAA,cAAkBpB,GAAaqB,GAAA,eAAAtB,QAArCG,EAAAD,OAAAD,GAAAN,GAGAQ,EAASoB,IAAI,cAAeT,GAAoBQ,GAAG,eAAgBtB,QAASG,GAAWW,GADvFX,EAAaoB,IAAA,QAAe5B,GAAgB2B,GAAA,SAAgBtB,QAASG,GAAUD,GAC/EC,EAAAA,QAASoB,IAAI,SAAAR,GAAeD,GAAAA,UAA5Bd,QAAmDG,GAAeY,KAElErB,EAAAwB,QAAc,eAGdxB,GAXD8B,GAAAC,cAAA,WAcC,MAAOC,MAAKC,KAAK,SAACC,EAAO5B,GADxBwB,EAAGC,MAIJ/B,EAJD,WAAAA,EAAA,sBAAA+B,mBAOCI,OAAOC","file":"sticky.min.js","sourcesContent":["/*global jQuery */\r\n\r\nvoid function initializeStickyContentAddon($) {\r\n\t'use strict';\r\n\r\n\tfunction checkHeight(e) {\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\r\n\t\tconst $wrapper = e.data.wrapper;\r\n\t\tconst $sticky = e.data.sticky;\r\n\r\n\t\t$wrapper.css('height', 'auto').removeClass('scroll-y');\r\n\r\n\t\tconst stickyHeight = $sticky.height();\r\n\t\tconst contentHeight = $wrapper.outerHeight(true);\r\n\t\tconst windowHeight = $(window).height();\r\n\t\tconst maxContentHeight = windowHeight - ($sticky.offset().top - $('html, body').scrollTop()) - (stickyHeight - contentHeight) - 12;\r\n\r\n\t\tif(contentHeight >= maxContentHeight) {\r\n\t\t\t$wrapper.addClass('scroll-y').height(maxContentHeight);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction triggerCheckHeight(e) {\r\n\t\te.stopPropagation();\r\n\r\n\t\te.data.wrapper.trigger('checkHeight');\r\n\t}\r\n\r\n\tfunction resize() {\r\n\t\tlet resizeDebounce;\r\n\r\n\t\treturn (e) => {\r\n\t\t\tclearTimeout(resizeDebounce);\r\n\r\n\t\t\tresizeDebounce = setTimeout(() => {\r\n\t\t\t\te.data.wrapper.trigger('checkHeight');\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t}\r\n\r\n\tconst initSticky = function(wrapper){\r\n\t\tconst $wrapper = $(wrapper);\r\n\t\tconst $sticky = $wrapper.closest('.sticky');\r\n\t\tconst $triggerButtons = $sticky.find('.js-sticky-content-trigger');\r\n\r\n\t\t$wrapper.off('checkHeight', checkHeight).on('checkHeight', {wrapper: $wrapper, sticky: $sticky}, checkHeight);\r\n\t\t$wrapper.off('tab-changed', triggerCheckHeight).on('tab-changed', {wrapper: $wrapper}, triggerCheckHeight);\r\n\t\t$triggerButtons.off('click', triggerCheckHeight).on('click', {wrapper: $wrapper}, triggerCheckHeight);\r\n\t\t$(window).off('resize', resize).on('resize', {wrapper: $wrapper}, resize());\r\n\r\n\t\t$wrapper.trigger('checkHeight');\r\n\t}\r\n\r\n\t$.fn.stickyContent = function init() {\r\n\t\treturn this.each((index, wrapper) => {\r\n\t\t\tinitSticky(wrapper);\r\n\t\t});\r\n\t};\r\n\r\n\t$(() => { $('.js-sticky-content').stickyContent(); })\r\n}(jQuery.noConflict())"]}