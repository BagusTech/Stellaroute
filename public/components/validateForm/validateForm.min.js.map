{"version":3,"sources":["components/validateForm/validateForm.js"],"names":["$","isValidEmail","email","re","test","func","$input","e","target","parent","removeClass","trigger","value","addClass","val","attr","stopPropagation","$submit","find","failed","currentTarget","$form","length","validate","prop","input","validateFunc","hasData","debounceValidate","checkIfTaken","clearTimeout","setTimeout","initValidateForm","$wrapper","on","failedValidation","filter","item","i","fn","validateForm","this","each","wrapper","jQuery","noConflict"],"mappings":"iBAAA,UAAAA,GAGC,QAAAC,GAAAC,GAEA,GAAAC,GAASF,ggBAER,OAAME,GAAKC,KAAAF,GAKZF,QAAEC,GAAeA,EAAjBI,GAGC,GAAMC,GAASN,EAAEO,EAAEC,OAAnB,OAAMF,OAYND,GAAAC,OATCA,GAAOG,SADLC,YAAO,2BACTJ,SAAOG,aAGJE,QAAQ,iBAAiB,IAS7B,QAAML,GAANC,EAAAF,GAAA,GAAMC,GAASN,EAAEO,EAAEC,OAGlBF,OAAAA,OAYDD,GAAMO,OAZLN,GAAOG,SAKPC,YAAA,yBACAG,SAAA,eAHGF,QAAQ,gBAYXL,QAAOK,GAAQL,GACf,GAAAM,GAAAN,EAAAQ,KAFD,QAAKF,GAAkC,UAAxBN,EAAOS,KAAK,UAAwBf,EAAEC,aAAaW,OAKlEN,GAAOK,QAAQ,wBAIfJ,GAAES,QAAAA,oBAGF,QAAMC,GAAgBC,EAANC,GAHhBZ,EAAES,iBAMDC,IAAAA,GAAajB,EAAAO,EAAAa,eADdH,EAEOI,EAAAH,KAAA,kBAENC,IAAA,IAAAE,EAAAH,KAAA,cAAAI,QAAAD,EAAAH,KAAA,gCAAAI,SAAAD,EAAAH,KAAA,mBAAAI,OAGFL,EAASM,KAAAA,YAAT,GAFCN,EAAAO,KAAA,YAAA,GAED,QAASD,GAAShB,EAAGkB,EAAOpB,GAK3BE,EAAAS,iBAFA,IAAMV,GAAiBN,EAARyB,EAAUA,EAAWlB,EAAEC,OAMrC,IAAAH,GAAAC,EAAAkB,KAAA,iBAAAlB,EAAAkB,KAAA,YAAA,CACD,GAAAE,GAAArB,GAAAC,EAAAkB,KAAA,iBAAAG,CAEDD,GAASE,IAIPrB,QAAES,KAHH,GAAIa,GAAAA,MAEJ,OAAO,UAACtB,GAKPuB,EAAAA,iBAECxB,IAAAA,GAAAN,EAAeO,EAAAC,OAPjBsB,cAAAD,GAUAA,EAAAE,WAAA,WAHEzB,EAAOK,QAAQ,aAKlBL,EAAS0B,KAAAA,qBAA2B,KAInCC,QAAAA,GAAYA,GACZA,EAASC,GAAG,eAASN,GACrBK,EAASC,GAAG,WAAUX,GAAQU,EAAAA,GAAStB,mBAAqBJ,GAAW0B,EAAvEC,GAAA,mBAAAC,GADAF,EAASC,GAAG,QAASN,KAGrBK,EAAGA,GAAAA,SAAc,SAAA1B,GAAS6B,EAAOzB,QAAI0B,YAAJ9B,EAAAC,WAAuCc,EAAQJ,KAAA,SAAAkB,OAAA,SAAAE,EAAAD,GAAA,MAAArC,GAAAqC,GAAAb,KAAA,cAAAF,QAC/EW,EAASf,KAAK,mBAAmBM,KAAK,YAAY,GAGnDS,EAASf,KAAK,cAAcP,QAAQ,YAjGpCX,EAAAC,aAAAA,EAoGDD,EAAEuC,GAAGC,aAAe,WACnB,MAAOC,MAAKC,KAAK,SAAAJ,EAAAK,GAAA,MAAIA,GAAJ3C,EAAA2C,OACjB3C,EAFD,WAAA,MAAAA,GAAA,+CAAAwC,kBAKCI,OAAOC","file":"validateForm.min.js","sourcesContent":["/*global jQuery */\r\n\r\nvoid function initializeValidateForm($){\r\n\t'use strict';\r\n\r\n\tfunction isValidEmail(email) {\r\n\t\t// eslint-disable-next-line\r\n\t\tconst re = /^([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22))*\\x40([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d))*$/\r\n\r\n\t\treturn re.test(email);\r\n\t}\r\n\r\n\t$.isValidEmail = isValidEmail;\r\n\r\n\tfunction failedValidation(e, func) {\r\n\t\tconst $input = $(e.target);\r\n\r\n\t\tif(!func) {\r\n\t\t\t$input.parent()\r\n\t\t\t\t\t.removeClass('has-success has-warning')\r\n\t\t\t\t\t.addClass('has-error')\r\n\t\t\t\t\t.trigger('checkIsValid', [true]);\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfunc($input);\r\n\t}\r\n\r\n\tfunction passedValidation(e, func) {\r\n\t\tconst $input = $(e.target);\r\n\r\n\t\tif(!func) {\r\n\t\t\t$input.parent()\r\n\t\t\t\t\t.removeClass('has-error has-warning')\r\n\t\t\t\t\t.addClass('has-success')\r\n\t\t\t\t\t.trigger('checkIsValid');\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfunc($input);\r\n\t}\r\n\r\n\tfunction hasData($input) {\r\n\t\tconst value = $input.val();\r\n\r\n\t\tif (!value || ($input.attr('type') === 'email' && !$.isValidEmail(value))) {\r\n\t\t\t$input.trigger('failedValidation')\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t$input.trigger('passedValidation');\r\n\t}\r\n\r\n\tfunction checkIsValid(e, failed) {\r\n\t\te.stopPropagation();\r\n\r\n\t\tconst $form = $(e.currentTarget);\r\n\t\tconst $submit = $form.find('[type=\"submit\"]')\r\n\r\n\t\tif (!failed && $form.find('.has-error').length === 0 && $form.find('.has-success input[required]').length === $form.find('input[required]').length) {\r\n\t\t\t$submit.prop('disabled', false);\r\n\t\t} else {\r\n\t\t\t$submit.prop('disabled', true);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction validate(e, input, func) {\t\r\n\t\te.stopPropagation();\r\n\r\n\t\tconst $input = input ? $(input) : $(e.target);\r\n\r\n\t\tif(func || $input.prop('validateFunc') || $input.prop('required')) {\r\n\t\t\tconst validateFunc = func || $input.prop('validateFunc') || hasData;\r\n\r\n\t\t\tvalidateFunc($input);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction debounceValidate() {\r\n\t\tlet checkIfTaken;\r\n\r\n\t\treturn (e) => {\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t\tconst $input = $(e.target);\r\n\r\n\t\t\tclearTimeout(checkIfTaken);\r\n\t\t\tcheckIfTaken = setTimeout(() => {\r\n\t\t\t\t$input.trigger('validate');\r\n\t\t\t}, $input.prop('debounceValidate') || 10);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction initValidateForm($wrapper) {\r\n\t\t$wrapper.on('checkIsValid', checkIsValid);\r\n\t\t$wrapper.on('validate', validate);\r\n\t\t$wrapper.on('passedValidation', passedValidation);\r\n\t\t$wrapper.on('failedValidation', failedValidation);\r\n\t\t$wrapper.on('input', debounceValidate());\r\n\t\t$wrapper.on('change', (e) => {$wrapper.trigger('validate', [e.target])});\r\n\r\n\t\tif($wrapper.find('input').filter((i, item) => $(item).prop('required')).length) {\r\n\t\t\t$wrapper.find('[type=\"submit\"]').prop('disabled', true);\r\n\t\t}\r\n\r\n\t\t$wrapper.find('[required]').trigger('validate');\r\n\t}\r\n\r\n\t$.fn.validateForm = function() {\r\n\t\treturn this.each((i, wrapper) => initValidateForm($(wrapper)))\r\n\t};\r\n\r\n\t$(() => $('[data-function*=\"form\"], [duck-table], form').validateForm());\r\n}(jQuery.noConflict());\r\n"]}