"use strict";void function(e){function t(t){e.ajax({type:"POST",data:JSON.stringify(t),url:"/email-capture",contentType:"application/json",success:function(){a.trigger("email-capture-complete",!0)},error:function(){a.trigger("email-capture-complete",!1)}})}var a=e(".email-capture"),i=a.find("form"),n=i.find("button"),r=i.find('input[name="email"]'),o=a.find(".js-error-message");n.click(function(e){e.stopPropagation(),e.preventDefault(),n.prop("disabled",!0);var i=r.val(),o={local:{email:i},recieveNewsletter:!0,created:new Date,roles:["beta-"+a.attr("data-category")]};t(o)}),a.on("email-capture-complete",function(e,t){e.stopPropagation(),t?(i.hide(),a.find(".email-capture--sub-header").hide(),a.find(".email-capture--header").text("Thanks for signing up. You'll be the first to know when we open you beta. Happy travels!")):(n.prop("disabled",!1),r.val(""),o.slideDown(500))})}(jQuery.noConflict());
//# sourceMappingURL=emailCapture.min.js.map
