{"version":3,"sources":["controls/login/login.js"],"names":["$","duck","setValidation","$input","length","trigger","validateField","value","val","isValidEmail","exists","field","attr","fineOne","$SignupPassphrase","$SignupPassphraseRepeat","prop","each","i","item","$item","val1","val2","closest","find","jQuery","noConflict"],"mappings":"iBAAA,UAAAA,EAAAC,GAGC,QAAAC,GAAAC,GAGC,MAAO,UAACC,GADAF,MAATE,EACCD,EAAOE,QAACD,oBAEND,EAAOE,QAAQ,qBAKjB,QAAAC,GAAAH,GAGA,GAAMI,GAAQJ,EAAOK,KAArB,OAAA,UAAMD,EAAAA,KAAQJ,SAAdH,EAAAS,aAAAF,OAKCN,GAAA,SAAAS,QAAAC,MAAAR,EAAAS,KAAA,QAAAL,MAAAA,EAAAM,SAAA,GAAAX,EAAAC,QAFAA,GAAOE,QAAQ,oBAKhBL,EAAA,WAGA,GAAMc,GAAoBd,EAAE,mBAD3Be,EAAMf,EAAA,yBAEPA,GAAA,yCAAkCgB,KAAA,mBAAlC,KAAAA,KAAA,eAAA,WAAA,MAAAV,KAEAN,EAAEiB,KAAA,SAAAC,EAAAC,GAA6F,GAAAC,GAAMd,EAAAA,EAArGc,GAAAJ,KAAA,eAAA,WAAA,MAAA,YAKE,GAAMR,GAAMY,EAAMZ,KAFbY,GAAAA,OAAQ,EACdA,EAAMJ,QAAK,oBACVI,EAAMZ,QAAMY,oBAGXA,EAAcf,QAAA,iBASjBU,EAAwBE,KAAK,SAACC,EAAGC,GAJ/BJ,GAAAA,GAAAA,EAAAA,EAT0BK,GAA3BJ,KAAA,eAAA,WAAA,MAAA,YAFD,GAAAK,GAAAD,EAAAZ,MAoBQc,EAAOF,EAAMG,QAAQ,QAAQC,KAAK,mBAAmBhB,KAJtDY,IAAQpB,IAOTqB,IAASC,EALdF,EAAMJ,QAAK,oBACVI,EAAMC,QAAOD,qBAIZN,EAAYQ,QAAM,oBAIjBG,OAAAC,aAAAzB","file":"login.min.js","sourcesContent":["/* global jQuery, duck */\r\n\r\nvoid function initLogin($, duck) {\r\n\t'use strict';\r\n\r\n\tfunction setValidation($input) {\r\n\t\treturn (length) => {\r\n\t\t\tif (length === \"0\") {\r\n\t\t\t\t$input.trigger('passedValidation')\r\n\t\t\t} else {\r\n\t\t\t\t$input.trigger('failedValidation')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction validateField($input) {\r\n\t\tconst value = $input.val();\r\n\r\n\t\tif ($input.attr('type') === 'email' && !$.isValidEmail(value)) {\r\n\t\t\t$input.trigger('failedValidation')\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tduck('Users').exists({field: $input.attr('name'), value, fineOne: true}, setValidation($input));\r\n\t}\t\r\n\r\n\t$(() => {\r\n\t\tconst $SignupPassphrase = $('.js-signup-pass');\r\n\t\tconst $SignupPassphraseRepeat = $('.js-signup-pass-repeat');\r\n\r\n\t\t$('.js-signup-email, .js-signup-username').prop('debounceValidate', 1000).prop('validateFunc', () => validateField);\r\n\r\n\t\t$SignupPassphrase.each((i, item) => {\r\n\t\t\tconst $item = $(item);\r\n\t\t\t$item.prop('validateFunc', () => () => {\r\n\t\t\t\tconst val = $item.val();\r\n\r\n\t\t\t\tif (val.length > 7) {\r\n\t\t\t\t\t$item.trigger('passedValidation');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$item.trigger('failedValidation');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$SignupPassphraseRepeat.trigger('validate');\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$SignupPassphraseRepeat.each((i, item) => {\r\n\t\t\tconst $item = $(item);\r\n\r\n\t\t\t$item.prop('validateFunc', () => () => {\r\n\t\t\t\tconst val1 = $item.val();\r\n\t\t\t\tconst val2 = $item.closest('form').find('.js-signup-pass').val();\r\n\r\n\t\t\t\tif(val1 && val2) {\r\n\t\t\t\t\tif(val1 === val2) {\r\n\t\t\t\t\t\t$item.trigger('passedValidation');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$item.trigger('failedValidation');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$SignupPassphrase.trigger('validate');\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n}(jQuery.noConflict(), duck);"]}