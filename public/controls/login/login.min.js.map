{"version":3,"sources":["controls/login/login.js"],"names":["$","duck","setValidation","$input","length","trigger","validateField","value","val","isValidEmail","exists","field","attr","fineOne","prop","$siblingInput","val1","val2"],"mappings":"iBAAA,UAAAA,EAAAC,GAGC,QAAAC,GAAAC,GAGC,MAAO,UAACC,GADAF,MAATE,EACCD,EAAOE,QAACD,oBAEND,EAAOE,QAAQ,qBAKjB,QAAAC,GAAAH,GAGA,GAAMI,GAAQJ,EAAOK,KAArB,OAAA,UAAMD,EAAAA,KAAQJ,SAAdH,EAAAS,aAAAF,OAKCN,GAAA,SAAAS,QAAAC,MAAAR,EAAAS,KAAA,QAAAL,MAAAA,EAAAM,SAAA,GAAAX,EAAAC,QAFAA,GAAOE,QAAQ,oBAKhBL,EAAA,WAGAA,EAAE,2BAA2Bc,KAAK,mBAAoB,KAAMA,KAAK,eAAgB,WAAA,MAAMR,KAAvFN,EAAE,qBAAAc,KAAF,eAAkC,WAAA,MAAA,UAAAX,GAA+C,GAAAK,GAAMF,EAAAA,KAKlFE,GAAIJ,OAAS,EAHhBD,EAAAE,QAAA,oBACDF,EAAMK,QAAML,oBAGXA,EAAAA,2BAAeE,QAAf,eAGAL,EAAA,2BAAAc,KAAA,eAAA,WAAA,MAAA,UAAAX,GAMD,GAAMY,GAAgBf,EAAE,qBAJtBgB,EAAAb,EAAAK,MATyCS,EAAAF,EAAAP,KAiBxCQ,IAAQC,IALVD,IAAAC,EAAgDd,EAAME,QAACF,oBAExDA,EAAMa,QAAOb,qBAIZY,EAAGC,QAAe,kBAGjBb,OAAAA,aAAeF","file":"login.min.js","sourcesContent":["/* global jQuery, duck */\r\n\r\nvoid function initLogin($, duck) {\r\n\t'use strict';\r\n\r\n\tfunction setValidation($input) {\r\n\t\treturn (length) => {\r\n\t\t\tif (length === \"0\") {\r\n\t\t\t\t$input.trigger('passedValidation')\r\n\t\t\t} else {\r\n\t\t\t\t$input.trigger('failedValidation')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction validateField($input) {\r\n\t\tconst value = $input.val();\r\n\r\n\t\tif ($input.attr('type') === 'email' && !$.isValidEmail(value)) {\r\n\t\t\t$input.trigger('failedValidation')\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tduck('Users').exists({field: $input.attr('name'), value, fineOne: true}, setValidation($input));\r\n\t}\t\r\n\r\n\t$(() => {\r\n\t\t$('#SignupEmail, #Username').prop('debounceValidate', 1000).prop('validateFunc', () => validateField);\r\n\r\n\t\t$('#SignupPassphrase').prop('validateFunc', () => ($input) => {\r\n\t\t\tconst val = $input.val();\r\n\r\n\t\t\tif (val.length > 7) {\r\n\t\t\t\t$input.trigger('passedValidation');\r\n\t\t\t} else {\r\n\t\t\t\t$input.trigger('failedValidation');\r\n\t\t\t}\r\n\r\n\t\t\t$('#SignupPassphraseRepeat').trigger('validate');\r\n\t\t});\r\n\r\n\t\t$('#SignupPassphraseRepeat').prop('validateFunc', () => ($input) => {\r\n\t\t\tconst $siblingInput = $('#SignupPassphrase');\r\n\t\t\tconst val1 = $input.val();\r\n\t\t\tconst val2 = $siblingInput.val();\r\n\r\n\t\t\tif(val1 && val2) {\r\n\t\t\t\tif(val1 === val2) {\r\n\t\t\t\t\t$input.trigger('passedValidation');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$input.trigger('failedValidation');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t$siblingInput.trigger('validate');\r\n\t\t});\r\n\t});\r\n}(jQuery.noConflict(), duck);"]}