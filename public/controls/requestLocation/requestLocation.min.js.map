{"version":3,"sources":["controls/requestLocation/requestLocation.js"],"names":["$","duck","$flash","find","show","failed","slideUp","setTimeout","success","response","$requestLocation","modal","msg","error","click","e","preventDefault","html","val","subject","sendEmail","request","jQuery","noConflict"],"mappings":"iBAAA,UAAAA,EAAAC,GAMC,QAAMC,KAGLA,EAAOC,KAAK,iBAAiBC,KAAK,GADnCF,EAAAE,KAASC,GAERH,WAAA,WAGCA,EAAOI,QAAQ,KADhBC,EAAAA,KAAW,iBAAMD,QAAA,MAChBJ,KAGD,QAAAM,GAAAC,GAGAC,EAAiBC,MAAM,QAANA,YAAjBD,EAAAA,KAGCR,EAAOC,KAAK,kBAAkBC,KAAK,GADpCF,EAAIO,KAASG,GAEZV,WAAA,WAGCA,EAAOI,QAAQ,KADhBC,EAAAA,KAAW,kBAAMD,QAAA,MAChBJ,MAEAG,IAIF,QAAAQ,KAGAH,EAAiBC,MAAM,QAAvBD,IAhCD,GAAAA,GAAAV,EAAA,oBAGME,EAASF,EAAE,0BAgChBU,GAAAP,KAAA,mBAAAW,MAAA,SAAAC,GAGAA,EAAEC,gBAAFD,IAAEC,GAAAA,oDAEIC,EAAAA,KAAAA,iBAAAA,MAFJD,cAIKN,EAAiBP,KAAK,qBAAtBe,MAJLF,cAODC,GACAE,KAAAA,EAFDA,QAAA,uBAPDlB,GAAAmB,UAAAC,EAAAb,EAAAK,MAcCS,OAAOC,aAActB","file":"requestLocation.min.js","sourcesContent":["/* global jQuery, duck */\r\n\r\nvoid function initRequestLocation($, duck) {\r\n\t'use strict';\r\n\r\n\tconst $requestLocation = $('#RequestLocation');\r\n\tconst $flash = $('#RequestLocationMessage');\r\n\r\n\tfunction failed() {\r\n\t\t$flash.find('.alert-danger').show(0);\r\n\t\t$flash.show(0);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\t$flash.slideUp(270)\r\n\t\t\t$flash.find('.alert-danger').slideUp(270);\r\n\t\t}, 5000)\r\n\t}\r\n\r\n\tfunction success(response) {\r\n\t\t$requestLocation.modal('hide');\r\n\r\n\t\tif (response.msg === 'success') {\r\n\t\t\t$flash.find('.alert-success').show(0);\r\n\t\t\t$flash.show(0);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t$flash.slideUp(270)\r\n\t\t\t\t$flash.find('.alert-success').slideUp(270);\r\n\t\t\t}, 5000)\r\n\t\t} else {\r\n\t\t\tfailed();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction error(){\r\n\t\t$requestLocation.modal('hide');\r\n\r\n\t\tfailed();\r\n\t}\r\n\r\n\t$requestLocation.find('[type=\"submit\"]').click((e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst html = `\r\n\t\t\t<h1>New Location Request</h1>\r\n\t\t\t<h2>${$requestLocation.find('[name=\"from\"]').val()} requested ${$requestLocation.find('[name=\"location\"]').val()}</h2>\r\n\t\t`;\r\n\t\tconst request = {\r\n\t\t\thtml,\r\n\t\t\tsubject: 'New Location Request',\r\n\t\t};\r\n\r\n\t\tduck.sendEmail(request, success, error);\r\n\t});\r\n}(jQuery.noConflict(), duck)"]}