"use strict";jQuery(function(e){var t=e("#EmailCaptureInput"),a=e("#EmailCaptureButton"),i=e("#RequestGuideInput"),r=e("#RequestGuideButton"),u=function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},n=function(){e(".email-capture-error").addClass("active"),setTimeout(function(){e(".email-capture-error").removeClass("active")},2e3)};a.click(function(a){a.preventDefault();var i=t.val();if(u(i)){e(".email-capture-error").text("Sorry, we experienced an error. Please refresh the page and try again.");var r={"local.email":i,recieveNewsletter:!0};e.ajax({type:"POST",data:JSON.stringify(r),url:"/newsletter-signup",contentType:"application/json"}).done(function(t){"success"===t.msg?(e(".email-capture").removeClass("active"),e(".email-capture-success").addClass("active").slideDown(180)):n()}).fail(function(e){n()})}else n()}),r.click(function(a){a.preventDefault();var r=e(".submit-guide-header"),u=e(".submit-guide-text"),s={fromEmail:t.val(),request:i.val()};e.ajax({type:"POST",data:JSON.stringify(s),url:"/request-location",contentType:"application/json"}).done(function(e){"success"===e.msg?(r.text("Success! You've Requested a Guide."),u.text("We'll get back to you as quickly as we can. Feel free to request another."),i.val("")):n()}).fail(function(e){n()})})});
//# sourceMappingURL=betaSignup.min.js.map
