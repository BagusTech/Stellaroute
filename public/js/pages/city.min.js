"use strict";void function(t){function o(){var o=t(this),d=o.closest(".content-card");d.find(".js-food-item").toggleClass("hidden"),d.find(".js-update-food-item").toggleClass("hidden"),d.find(".js-edit-food-submit").toggleClass("hidden"),o.toggleClass("btn-primary").toggleClass("btn-warning").text("Edit"===o.text()?"Cancel":"Edit")}function d(o,d){var e=this;return function(){var i=t(d).find(".js-food-field"),n={Id:t("#CityId").val(),food:{foods:o&&o.food&&o.food.foods||[]}},a={Id:t(e).siblings(".js-food-id").val()||duck().uuid()};i.each(function(o,d){var e=t(d);e.attr("data-summernote")?a[e.attr("name")]=e.find("> .summernote").summernote("code"):"dishes"===e.attr("name")&&e.val()?a[e.attr("name")]=e.val().split(", "):"checkbox"===e.attr("type")?a[e.attr("name")]&&e.prop("checked")?a[e.attr("name")].push(e.val()):e.prop("checked")&&(a[e.attr("name")]=[e.val()]):e.val()&&(a[e.attr("name")]=e.val())}),n.food.foods.push(a),duck("Cities").update(n,function(){location.reload()})}}var e=this;jQuery(function(){duck("Cities").get({field:"Id",value:t("#CityId").val(),findOne:!0},function(i){t("#AddFoodSubmit").click(d(i,"#AddFoodForm")),t(".js-edit-food").click(o),t(".js-edit-food-submit").click(function(){d(i,t(e).closest(".content-card"))()})})})}(jQuery);
//# sourceMappingURL=city.min.js.map
