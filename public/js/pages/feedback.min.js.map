{"version":3,"sources":["js/pages/feedback.js"],"names":["$","duck","$flash","find","show","failed","slideUp","setTimeout","success","response","msg","$form","prop","error","click","e","preventDefault","val","subject","user","email","feedback","sendEmail","request","jQuery","$subject","$feedback","noConflict"],"mappings":"iBAAA,UAAAA,EAAAC,GAMC,QAAMC,KAGLA,EAAOC,KAAK,iBAAiBC,KAAK,GADnCF,EAAAE,KAASC,GAERH,WAAA,WAGCA,EAAOI,QAAQ,KADhBC,EAAAA,KAAW,iBAAMD,QAAA,MAChBJ,KAGD,QAAAM,GAAAC,GAGqB,YAAjBA,EAASC,KADdR,EAASM,KAAAA,kBAAkBJ,KAAA,GAC1BF,EAAIO,KAASC,GAEZR,WAAA,WAGCA,EAAOI,QAAQ,KADhBC,EAAAA,KAAW,kBAAMD,QAAA,MAChBJ,KAEAK,WAHD,WAMCI,EAAMR,KAAK,mBAAmBS,KAAK,YAAY,IADhDL,MAECF,IAIF,QAAAQ,KAAAR,IA/BD,GAAAM,GAAAX,EAAA,iBAGME,EAASF,EAAE,mBA8BjBW,GAAAR,KAASU,mBAAQC,MAAA,SAAAC,GAAEV,EAAAA,KAAAA,mBAAAA,KAAAA,YAAAA,GAAWU,EAAAC,gBAE9BL,IAAMR,GAAKQ,EAAAR,KAAA,iBAAyBc,MAC7Bd,EAAKQ,EAAAR,KAAA,kBAAwBc,MACjCD,EAAFL,EAAAR,KAAA,oBAKMe,EAAUP,EAAMR,KAAK,oBAAoBc,MAHzCE,EAAahB,EAAKA,KAAA,qBAClBiB,EAAQT,EAAWR,KAAA,qBAAzBc,MAEMC,EAAAA,4CAEAG,EAFAH,sDAiBUC,EAjBVD,qCAiBUE,EAjBVF,qDAsBDI,EAtBCJ,eAPPK,GAiCCC,KAAAA,EAPCN,QAAAA,aAAsBA,EAGvBjB,GAAKqB,UAAUC,EAASf,EAASK,GACjCY,EAASR,IAAI,IACbS,EAAUT,IAAI,OAEdO,OAAOG,aAAc1B","file":"feedback.min.js","sourcesContent":["/* global jQuery, duck */\r\n\r\nvoid function initFeedback($, duck){\r\n\t'use strict';\r\n\r\n\tconst $form = $('#FeedbackForm');\r\n\tconst $flash = $('#FeedbackMessage');\r\n\r\n\tfunction failed() {\r\n\t\t$flash.find('.alert-danger').show(0);\r\n\t\t$flash.show(0);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\t$flash.slideUp(270)\r\n\t\t\t$flash.find('.alert-danger').slideUp(270);\r\n\t\t}, 5000)\r\n\t}\r\n\r\n\tfunction success(response) {\r\n\t\tif (response.msg === 'success') {\r\n\t\t\t$flash.find('.alert-success').show(0);\r\n\t\t\t$flash.show(0);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t$flash.slideUp(270)\r\n\t\t\t\t$flash.find('.alert-success').slideUp(270);\r\n\t\t\t}, 5000);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t$form.find('[type=\"submit\"]').prop('disabled', false);\r\n\t\t\t}, 500);\r\n\t\t} else {\r\n\t\t\tfailed();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction error() { failed(); }\r\n\r\n\t$form.find('[type=\"submit\"]').click((e) => {\r\n\t\t$form.find('[type=\"submit\"]').prop('disabled', true);\t\t\t\r\n\t\te.preventDefault();\r\n\r\n\t\tconst user = $form.find('[name=\"user\"]').val();\r\n\t\tconst email = $form.find('[name=\"email\"]').val();\r\n\t\tconst $subject = $form.find('[name=\"subject\"]');\r\n\t\tconst subject = $form.find('[name=\"subject\"]').val();\r\n\t\tconst $feedback = $form.find('[name=\"feedback\"]');\r\n\t\tconst feedback = $form.find('[name=\"feedback\"]').val();\r\n\r\n\t\tconst html = `\r\n\t\t\t<h1>New Feedback</h1>\r\n\t\t\t<h2>${subject}</h2>\r\n\r\n\t\t\t<p>\r\n\t\t\t\t<strong>Name: </strong>${user}\r\n\t\t\t\t<strong>Email: </strong>${email}\r\n\t\t\t</p>\r\n\r\n\t\t\t<h3>Feedback</h3>\r\n\t\t\t<p>${feedback}</p>\r\n\r\n\t\t`;\r\n\t\tconst request = {\r\n\t\t\thtml,\r\n\t\t\tsubject: `Feedback: ${subject}`,\r\n\t\t};\r\n\r\n\t\tduck.sendEmail(request, success, error);\r\n\t\t$subject.val('')\r\n\t\t$feedback.val('')\r\n\t});\r\n}(jQuery.noConflict(), duck)"]}