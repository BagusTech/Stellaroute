{"version":3,"sources":["js/pages/guide/guide.js"],"names":["$","expandeCollapseAll","e","stopPropagation","preventDefault","data","cardsWrapper","$card","$cardsWrapper","find","hasClass","$expandeCollapseIcon","previewCardsIcon","$previewCardsIcon","isExpanded","click","addClass","toggleClass","removeClass","previewCards","expandeCollapseIcon","trigger","$icon","hideAddButtons","addCardIcon","showAddButtons","$addCardIcon","$addButtons","initCard","wrapper","$cardTab","$cardStyles","$cardPreviews","$cardTitle","$cardTitles","$cardImage","$cardImages","$cardText","$cardTexts","$editToggle","on","parent","title","val","text","we","contents","html","imgSrc","replace","$_cardImage","_cardImage","attr","$deleteForm","delegateTarget","delay","fn","guideCard","i","$guideDetailsForm","$guideDetailsSaveIcon","$guideDetailsEdit","$guideDetailsEditIcon","$bannerImage","$cardsForm","$cardsFormSaveIcon","$expandeCollapse","$previewCards","$addCard","$error","url","success","locals","isMe","card","style","startInEditMode","prop","_$error","clone","prepend","slideUp","remove","imagePath","modal","jQuery","noConflict"],"mappings":"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","file":"guide.min.js","sourcesContent":["/* global jQuery */\r\n\r\nvoid function initCardStyle($){\r\n\t'use strict';\r\n\r\n\tfunction expandeCollapseAll(e) {\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\r\n\t\tconst $cardsWrapper = e.data.cardsWrapper;\r\n\t\tconst $card = $cardsWrapper.find('[data-sort=\"item\"]');\r\n\t\tconst $expandeCollapseIcon = e.data.expandeCollapseIcon;\r\n\t\tconst isExpanded = $expandeCollapseIcon.hasClass('fa-compress');\r\n\t\tconst $previewCardsIcon = e.data.previewCardsIcon;\r\n\r\n\t\t$cardsWrapper.find(`[role=\"tab\"][aria-expanded=\"${isExpanded ? true : false}\"]`).click();\r\n\t\t$card.addClass('guide-card--edit-mode');\r\n\t\t$expandeCollapseIcon.toggleClass('fa-compress fa-expand')\r\n\t\t$previewCardsIcon.removeClass('fa-pencil').addClass('fa-eye')\r\n\t}\r\n\r\n\tfunction previewCards(e) {\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\r\n\t\tconst $cardsWrapper = e.data.cardsWrapper;\r\n\t\tconst $expandeCollapseIcon = e.data.expandeCollapseIcon;\r\n\t\tconst $card = $cardsWrapper.find('.js-card');\r\n\t\tconst $icon = e.data.previewCardsIcon;\r\n\r\n\t\t$cardsWrapper.find(`[role=\"tab\"][aria-expanded=\"false\"]`).click();\r\n\t\t$expandeCollapseIcon.removeClass('fa-expand').addClass('fa-compress');\r\n\r\n\t\tif($icon.hasClass('fa-eye')) {\r\n\t\t\t$card.trigger('exitEditMode');\r\n\t\t} else {\r\n\t\t\t$card.trigger('enterEditMode');\r\n\t\t}\r\n\t\t\r\n\t\t$icon.toggleClass('fa-eye fa-pencil')\r\n\t}\r\n\r\n\tfunction hideAddButtons(e) {\r\n\t\te.data.cardsWrapper.find('[duck-button=\"add\"]').addClass('hidden');\r\n\t\te.data.addCardIcon.removeClass('rotate-45');\r\n\t}\r\n\r\n\tfunction showAddButtons(e) {\r\n\t\te.stopPropagation();\r\n\t\te.preventDefault();\r\n\r\n\t\tconst $cardsWrapper = e.data.cardsWrapper;\r\n\t\tconst $addCardIcon = e.data.addCardIcon;\r\n\t\tconst $addButtons = $cardsWrapper.find('[duck-button=\"add\"]');\r\n\r\n\t\t\r\n\t\t$addButtons.removeClass('hidden');\r\n\r\n\t\tif(!$addCardIcon.hasClass('rotate-45')) {\r\n\t\t\t$addCardIcon.addClass('rotate-45');\r\n\t\t} else {\r\n\t\t\thideAddButtons({data: {cardsWrapper: $cardsWrapper, addCardIcon: $addCardIcon}})\r\n\t\t}\r\n\t}\r\n\r\n\tfunction initCard(wrapper) {\r\n\t\tconst $card = $(wrapper);\r\n\t\tconst $cardTab = $card.find('.panel-heading[role=\"tab\"]');\r\n\t\tconst $cardStyles = $card.find('[duck-field=\"style\"] select');\r\n\t\tconst $cardPreviews = $card.find('.card-styles--preview');\r\n\t\tconst $cardTitle = $card.find('[duck-type=\"string\"] [duck-value]');\r\n\t\tconst $cardTitles = $card.find('.js-card-title');\r\n\t\tconst $cardImage = $card.find('[duck-type=\"image\"] [duck-value]');\r\n\t\tconst $cardImages = $card.find('.js-card-image');\r\n\t\tconst $cardText = $card.find('.summernote');\r\n\t\tconst $cardTexts = $card.find('.js-card-text');\r\n\t\tconst $editToggle = $card.find('.js-card-toggle');\r\n\t\t\r\n\r\n\t\t$editToggle.on('click', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif($card.parent().hasClass('guide-card--edit-mode')) {\r\n\t\t\t\t$card.trigger('exitEditMode');\r\n\t\t\t} else {\r\n\t\t\t\t$card.trigger('enterEditMode');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$card.on('exitEditMode', () => {\r\n\t\t\t$card.parent().removeClass('guide-card--edit-mode');\r\n\t\t\t\r\n\t\t\tif($cardTab.attr('aria-expanded') === 'false') {\r\n\t\t\t\t$cardTab.click();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$card.on('enterEditMode', () => {\r\n\t\t\t$card.parent().addClass('guide-card--edit-mode');\r\n\t\t});\r\n\r\n\t\t$cardTitle.on('input', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tconst title = $cardTitle.val();\r\n\r\n\t\t\tif(title) {\r\n\t\t\t\t$cardTitles.removeClass('guide-card--placeholder').text(title);\r\n\t\t\t} else {\r\n\t\t\t\t$cardTitles.addClass('guide-card--placeholder').text('Card Title');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$cardText.on('summernote.change', (we, contents) => {\r\n\t\t\tif(contents) {\r\n\t\t\t\t$cardTexts.removeClass('guide-card--placeholder').html(contents);\r\n\t\t\t} else {\r\n\t\t\t\t$cardTexts.addClass('guide-card--placeholder').html('This is where the <strong>Text</strong> for the card will go.');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$cardStyles.on('input', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t$cardPreviews.removeClass('card-styles--preview__active');\r\n\t\t\t$card.find(`.card-styles--preview[card-style=\"${$cardStyles.val()}\"]`).addClass('card-styles--preview__active');\r\n\t\t});\r\n\r\n\t\t$cardImage.on('change', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tconst imgSrc = $cardImage.val() ? `https://s3-us-west-2.amazonaws.com/stellaroute/${$cardImage.val().replace('.', '-medium.')}` : 'images/no-image--small.svg';\r\n\r\n\r\n\t\t\t$cardImages.each((j, _cardImage) => {\r\n\t\t\t\tconst $_cardImage = $(_cardImage);\r\n\r\n\t\t\t\t$_cardImage.removeClass('guide-card--img__no-img');\r\n\r\n\t\t\t\tif($_cardImage.attr('style')) {\r\n\t\t\t\t\t$_cardImage.attr('style', `background-image: url('${imgSrc}')`);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$_cardImage.attr('src', imgSrc);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$card.on('click', '.js-delete-card', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tconst $deleteForm = $(e.delegateTarget).parent().find('.js-delete-card-form');\r\n\r\n\t\t\t$deleteForm.addClass('z-1').delay(10).addClass('o-1');\r\n\t\t});\r\n\r\n\t\t$card.parent().on('click', '.js-cancel-delete', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tconst $deleteForm = $(e.delegateTarget).find('.js-delete-card-form');\r\n\r\n\t\t\t$deleteForm.removeClass('o-1').delay(180).removeClass('z-1');\r\n\t\t});\r\n\t}\r\n\r\n\t$.fn.guideCard = function init() {\r\n\t\treturn this.each((i, wrapper) => {\r\n\t\t\tinitCard(wrapper)\r\n\t\t})\r\n\t}\r\n\r\n\t$(() => {\r\n\t\tconst $subHeader = $('.sub-header');\r\n\t\tconst $guideDetailsForm = $('#GuideDetailsForm');\r\n\t\tconst $guideDetailsSaveIcon = $guideDetailsForm.find('[duck-button=\"submit\"] .fa');\r\n\t\tconst $guideDetailsEdit = $guideDetailsForm.find('[duck-button=\"edit\"]');\r\n\t\tconst $guideDetailsEditIcon = $guideDetailsEdit.find('.fa');\r\n\t\tconst $bannerImage = $guideDetailsForm.find('[duck-field=\"bannerImage\"] [duck-value]');\r\n\t\tconst $cardsForm = $('#GuideCards');\r\n\t\tconst $cardsFormSaveIcon = $cardsForm.find('[duck-button=\"submit\"]').find('.fa');\r\n\t\tconst $cardsWrapper = $('.js-guide-cards');\r\n\t\tconst $expandeCollapse = $('.js-expand-collapse');\r\n\t\tconst $expandeCollapseIcon = $expandeCollapse.find('.fa');\r\n\t\tconst $previewCards = $('.js-preview-cards');\r\n\t\tconst $previewCardsIcon = $previewCards.find('.fa');\r\n\t\tconst $addCard = $('.js-add-card-start');\r\n\t\tconst $addCardIcon = $addCard.find('.fa');\r\n\t\tconst $error = $('<div class=\"alert alert-danger p-A z-1 l-0 r-0 t-0\">Something went wrong, please try again.</div>');\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: '/renderPug',\r\n\t\t\tdata: {file: '../views/guides/cards/_card.pug', locals: {isMe: true, card: {style: 'big', title: 'New Card', text: 'New card text goes here.'}, startInEditMode: true}},\r\n\t\t\tsuccess: (data) => {\r\n\t\t\t\t$cardsWrapper.prop('ArrayItemTemplate', $(data));\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t$('.js-card').guideCard();\r\n\r\n\t\t$cardsForm.on('duck.form.submitted', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\t\r\n\t\t\t$cardsFormSaveIcon.toggleClass('fa-spinner fa-spin fa-floppy-o');\r\n\t\t\t$cardsForm.find('[duck-button=\"submit\"]').prop('disabled', true);\r\n\t\t});\r\n\r\n\t\t$cardsForm.on('duck.form.success', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\t\r\n\t\t\t$cardsFormSaveIcon.toggleClass('fa-spinner fa-spin fa-floppy-o');\r\n\t\t\t$cardsForm.find('[duck-button=\"submit\"]').prop('disabled', false);\r\n\t\t\t$cardsWrapper.find('.js-card').trigger('exitEditMode');\r\n\t\t\t$previewCardsIcon.removeClass('fa-eye').addClass('fa-pencil')\r\n\t\t});\r\n\r\n\t\t$cardsForm.on('duck.form.error', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\t\r\n\t\t\tconst _$error = $error.clone();\r\n\r\n\t\t\t$cardsWrapper.prepend(_$error);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t_$error.slideUp(270);\r\n\t\t\t}, 3000);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t_$error.remove();\r\n\t\t\t}, 3270);\r\n\t\t\t\r\n\t\t\t$cardsFormSaveIcon.toggleClass('fa-spinner fa-spin fa-floppy-o');\r\n\t\t\t$cardsForm.find('[duck-button=\"submit\"]').prop('disabled', false);\r\n\t\t});\r\n\r\n\t\t$addCard.on('click', {cardsWrapper: $cardsWrapper, addCardIcon: $addCardIcon}, showAddButtons);\r\n\t\t$expandeCollapse.on('click', {cardsWrapper: $cardsWrapper, expandeCollapseIcon: $expandeCollapseIcon, previewCardsIcon: $previewCardsIcon}, expandeCollapseAll);\r\n\t\t$previewCards.on('click', {cardsWrapper: $cardsWrapper, expandeCollapseIcon: $expandeCollapseIcon, previewCardsIcon: $previewCardsIcon}, previewCards);\r\n\r\n\t\t$guideDetailsEdit.on('click', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t$guideDetailsEditIcon.toggleClass('fa-eye fa-pencil');\r\n\t\t});\r\n\r\n\t\t$guideDetailsForm.on('duck.form.submitted', (e) => {\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t\t$guideDetailsSaveIcon.toggleClass('hidden');\r\n\t\t});\r\n\r\n\t\t$guideDetailsForm.on('duck.form.success', (e) => {\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t\tconst imagePath = `https://s3-us-west-2.amazonaws.com/stellaroute/${$bannerImage.val().replace('.jpg', '-large.jpg')}`;\r\n\t\t\t\r\n\t\t\t$guideDetailsForm.modal('hide')\r\n\r\n\t\t\t$subHeader.css('background-image', `url(\"${imagePath}\")`);\r\n\t\t\t$guideDetailsSaveIcon.toggleClass('hidden');\r\n\t\t\t$guideDetailsForm.find('[duck-button=\"submit\"]').prop('disabled', false);\r\n\t\t\t$guideDetailsEdit.click();\r\n\t\t});\r\n\t\t$guideDetailsForm.on('duck.form.error', (e) => {\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t\tconst _$error = $error.clone();\r\n\r\n\t\t\t$guideDetailsForm.prepend(_$error);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t_$error.slideUp(270);\r\n\t\t\t}, 3000);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t_$error.remove();\r\n\t\t\t}, 3270);\r\n\r\n\t\t\t$guideDetailsSaveIcon.toggleClass('hidden');\r\n\t\t\t$guideDetailsForm.find('[duck-button=\"submit\"]').prop('disabled', false);\r\n\t\t});\r\n\t});\r\n}(jQuery.noConflict())"]}