{"version":3,"sources":["js/pages/profile.js"],"names":["$","$error","$userForm","$userSubmit","find","$username","e","stopPropagation","on","removeClass","duckForm","successCallback","prop","addClass","clone","_$error","append","slideUp","setTimeout","remove","$changePasswordModal","$changePasswordForm","$passwordFields","$passwordSubmit","preventDefault","eq","val","length","closest","$newGuideForm","$newGuideSubmit","window","location","pathname","jQuery","noConflict"],"mappings":"iBAAA,UAAAA,GAGCA,EAAA,WAGC,GAAMC,GAASD,EAAE,qGAGXE,EAAYF,EAAE,oCADrBG,EAAAD,EAAAE,KAAA,0BACOF,EAAcA,EAAAE,KAAA,uCAEpBC,GAAMA,GAAAA,QAAYH,SAAAA,GAGjBI,EAAEC,kBADHF,EAAAA,mBAGCF,EAHDK,GAAA,QAAA,WAMCL,EAAYC,KAAK,KAAKK,YAAY,YAClCP,EAFDQ,UAAAC,gBAAA,WAKCR,EAAYS,KAAK,YAAY,GAAOR,KAAK,KAAKS,SAAS,WADxDX,cAAA,WACCC,GAAAA,GAAYS,EAAKE,OAEjBX,GAAMY,KAAUd,YAAhB,GAAAG,KAAA,KAAAS,SAAA,UAGAX,EAAUc,OAAOD,GAAjBb,WAAUc,WAGTD,EAAQE,QAAQ,MADjBC,KAECA,WAFD,WAKCH,EAAQI,UADTD,QAMD,IAAME,GAAuBpB,EAAE,mBADhCqB,EAAAD,EAAAhB,KAAA,wBACOgB,EAAAA,EAAyBhB,KAA/B,0BACMiB,EAAAA,EAAsBD,KAAqBhB,yBAEjDkB,GAAMC,GAAAA,QAAkBF,SAAAA,GAGvBf,EAAEC,kBADHe,EAAAA,iBAEGE,EAAFC,GAAA,GAAAC,QAAAJ,EAAAG,GAAA,GAAAC,OAAAJ,EAAAG,GAAA,GAAAC,MAAAC,OAAA,GAAAL,EAAAG,GAAA,GAAAC,MAAAC,OAAA,GAGCJ,EAAgBX,KAAK,YAAY,GADlCU,EAAIA,QAAA,eAAgCA,SAAAA,eAEnCA,EAAgBM,QAAQ,eAAef,YAAS,aAFjDU,EAGOX,KAAA,YAAA,MAIPW,EAXDf,GAAA,QAAA,WAcCe,EAAgBnB,KAAK,KAAKK,YAAY,YACtCY,EAFDX,UAAAC,gBAAA,WAKCY,EAAgBX,KAAK,YAAY,GAAOR,KAAK,KAAKS,SAAS,UAD5DQ,EAAoBX,MAApB,UAMA,IAAMmB,GAAgB7B,EAAE,yBADzB8B,EAAAD,EAAAzB,KAAA,yBAEC0B,GAAMA,GAAAA,QAAkBD,WAGvBC,EAAgBd,OAAO,2CACvBa,EAFDnB,UAAAC,gBAAA,WAKCoB,OAAOC,SAAcD,OAAOC,SAASC,SAArC,IAAiDjC,EAAE,mCAAmC0B,YAvExFQ,OAAAC","file":"profile.min.js","sourcesContent":["/* global jQuery */\r\n\r\nvoid function initRequest($){\r\n\t'use strict';\r\n\r\n\t$(() => {\r\n\t\tconst $error = $('<div class=\"alert alert-danger p-A z-1 l-0 r-0 t-0\">Something went wrong, please try again.</div>');\r\n\r\n\t// USER FORM\r\n\t\tconst $userForm = $('#MySettings [duck-table=\"Users\"]');\r\n\t\tconst $userSubmit = $userForm.find('[duck-button=\"submit\"]');\r\n\t\tconst $username = $userForm.find('[duck-field=\"username\"] [duck-value]');\r\n\r\n\t\t$username.on('input', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\r\n\t\t$userSubmit.on('click', () => {\r\n\t\t\t$userSubmit.find('i').removeClass('hidden');\r\n\t\t});\r\n\r\n\t\t$userForm.duckForm({successCallback: () => {\r\n\t\t\t$userSubmit.prop('disabled', false).find('i').addClass('hidden');\r\n\t\t}, errorCallBack: () => {\r\n\t\t\tconst _$error = $error.clone();\r\n\r\n\t\t\t$userSubmit.prop('disabled', false).find('i').addClass('hidden');\r\n\t\t\t$userForm.append(_$error);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t_$error.slideUp(270);\t\t\t\t\r\n\t\t\t}, 3000);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t_$error.remove();\t\t\t\t\r\n\t\t\t}, 3270);\r\n\t\t}});\r\n\r\n\t// CHANGE PASSWORD FORM\r\n\t\tconst $changePasswordModal = $('#ChangePassword'); \r\n\t\tconst $changePasswordForm = $changePasswordModal.find('[duck-table=\"Users\"]');\r\n\t\tconst $passwordFields = $changePasswordForm.find('input[type=\"password\"]');\r\n\t\tconst $passwordSubmit = $changePasswordForm.find('[duck-button=\"submit\"]');\r\n\r\n\t\t$passwordFields.on('input', (e) => {\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif(($passwordFields.eq(0).val() !== $passwordFields.eq(1).val()) || $passwordFields.eq(0).val().length < 6 || $passwordFields.eq(1).val().length < 6) {\r\n\t\t\t\t$passwordSubmit.prop('disabled', true);\r\n\t\t\t\t$passwordFields.closest('.form-group').addClass('has-error');\r\n\t\t\t} else {\r\n\t\t\t\t$passwordFields.closest('.form-group').removeClass('has-error');\r\n\t\t\t\t$passwordSubmit.prop('disabled', false);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$passwordSubmit.on('click', () => {\r\n\t\t\t$passwordSubmit.find('i').removeClass('hidden');\r\n\t\t});\r\n\r\n\t\t$changePasswordForm.duckForm({successCallback: () => {\r\n\t\t\t$passwordSubmit.prop('disabled', false).find('i').addClass('hidden');\r\n\t\t\t$changePasswordModal.modal('hide');\r\n\t\t}});\r\n\r\n\t// NEW GUIDE FORM\r\n\t\tconst $newGuideForm = $('[duck-table=\"Guides\"]');\r\n\t\tconst $newGuideSubmit = $newGuideForm.find('[duck-button=\"submit\"]');\r\n\r\n\t\t$newGuideSubmit.on('click', () => {\r\n\t\t\t$newGuideSubmit.append('<i class=\"fa fa-spin fa-spinner\"></i>');\r\n\t\t});\r\n\r\n\t\t$newGuideForm.duckForm({successCallback: () => {\r\n\t\t\twindow.location = `${window.location.pathname}/${$('[duck-field=\"url\"] [duck-value]').val()}`;\r\n\t\t}});\r\n\t});\r\n\r\n}(jQuery.noConflict())"]}