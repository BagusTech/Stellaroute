"use strict";void function(e){e(function(){var a=e('<div class="alert alert-danger p-A z-1 l-0 r-0 t-0">Something went wrong, please try again.</div>'),i=e('#MySettings [duck-table="Users"]'),n=i.find('[duck-button="submit"]'),s=i.find('[duck-field="username"] [duck-value]'),d=s.val(),o=e(".js-profile-pic"),t=i.find('[duck-field="profilePicture"] [duck-value]'),l=t.val(),r=e(".js-banner-image"),u=i.find('[duck-field="bannerImage"] [duck-value]'),c=u.val();s.prop("validateFunc",function(){return function(){var e=s.val();duck("Users").exists({field:"username",value:e,fineOne:!0},function(a){"0"===a||d===e?s.trigger("passedValidation"):s.trigger("failedValidation")})}}),n.on("click",function(){n.find("i").removeClass("hidden")}),i.duckForm({successCallback:function(){var e=s.val(),a=t.val(),i=u.val();if(n.prop("disabled",!1).find("i").addClass("hidden"),e.toLowerCase()!==d.toLowerCase())return void(window.location.href="/"+e);if(a!==l){var f=a.split(".");f.pop();var p="https://s3-us-west-2.amazonaws.com/stellaroute/"+f.join(".")+"-thumb2.jpg";o.attr("src",p)}if(i!==c){var v=i.split(".");v.pop();var m="https://s3-us-west-2.amazonaws.com/stellaroute/"+v+"-large.jpg";r.css("background-image",'url("'+m+'")')}},errorCallBack:function(){var e=a.clone();n.prop("disabled",!1).find("i").addClass("hidden"),i.append(e),setTimeout(function(){e.slideUp(270)},3e3),setTimeout(function(){e.remove()},3270)}});var f=e("#ChangePassword"),p=f.find('[duck-table="Users"]'),v=p.find('input[type="password"]'),m=p.find('[duck-button="submit"]');v.on("input",function(e){e.stopPropagation(),e.preventDefault(),v.eq(0).val()!==v.eq(1).val()||v.eq(0).val().length<6||v.eq(1).val().length<6?(m.prop("disabled",!0),v.closest(".form-group").addClass("has-error")):(v.closest(".form-group").removeClass("has-error"),m.prop("disabled",!1))}),m.on("click",function(){m.find("i").removeClass("hidden")}),p.duckForm({successCallback:function(){m.prop("disabled",!1).find("i").addClass("hidden"),f.modal("hide")}});var k=e('[duck-table="Guides"]'),g=k.find('[duck-button="submit"]');g.on("click",function(){g.append('<i class="fa fa-spin fa-spinner"></i>')}),k.duckForm({successCallback:function(){window.location=window.location.pathname+"/"+e('[duck-field="url"] [duck-value]').val()}})})}(jQuery.noConflict());
//# sourceMappingURL=profile.min.js.map
