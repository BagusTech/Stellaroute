"use strict";void function(e){e(function(){var a=e('<div class="alert alert-danger p-A z-1 l-0 r-0 t-0">Something went wrong, please try again.</div>'),i=e('#MySettings [duck-table="Users"]'),n=i.find('[duck-button="submit"]'),d=i.find('[duck-field="username"] [duck-value]'),s=d.val(),o=e(".js-profile-pic"),t=i.find('[duck-field="profilePicture"] [duck-value]'),l=t.val(),r=e(".js-banner-image"),u=i.find('[duck-field="bannerImage"] [duck-value]'),c=u.val();d.prop("validateFunc",function(){return function(){var e=d.val();duck("Users").exists({field:"username",value:e,fineOne:!0},function(a){"0"===a||s===e?d.trigger("passedValidation"):d.trigger("failedValidation")})}}),i.on("duck.form.submitted",function(){n.prop("disabled",!0),n.find("i").removeClass("hidden")}),i.duckForm({successCallback:function(){var e=d.val(),a=t.val(),i=u.val();if(n.prop("disabled",!1).find("i").addClass("hidden"),e.toLowerCase()!==s.toLowerCase())return void(window.location.href="/"+e);if(a!==l){var p=a.split(".");p.pop();var f="https://s3-us-west-2.amazonaws.com/stellaroute/"+p.join(".")+"-thumb2.jpg";o.attr("src",f)}if(i!==c){var v=i.split(".");v.pop();var m="https://s3-us-west-2.amazonaws.com/stellaroute/"+v+"-large.jpg";r.css("background-image",'url("'+m+'")')}},errorCallBack:function(){var e=a.clone();n.prop("disabled",!1).find("i").addClass("hidden"),i.append(e),setTimeout(function(){e.slideUp(270)},3e3),setTimeout(function(){e.remove()},3270)}});var p=e("#ChangePassword"),f=p.find('[duck-table="Users"]'),v=f.find('input[type="password"]'),m=f.find('[duck-button="submit"]');v.on("input",function(e){e.stopPropagation(),e.preventDefault(),v.eq(0).val()&&!v.eq(1).val()?m.prop("disabled",!0):v.eq(0).val()!==v.eq(1).val()||v.eq(0).val().length<8||v.eq(1).val().length<8?(m.prop("disabled",!0),v.closest(".form-group").addClass("has-error")):(v.closest(".form-group").removeClass("has-error"),m.prop("disabled",!1))}),f.on("duck.form.submitted",function(){m.prop("disabled",!0),m.find("i").removeClass("hidden")}),f.duckForm({successCallback:function(){m.prop("disabled",!1).find("i").addClass("hidden"),p.modal("hide")}});var b=e('[duck-table="Guides"]'),k=b.find('[duck-button="submit"]');k.on("click",function(){k.append('<i class="fa fa-spin fa-spinner"></i>')}),b.duckForm({successCallback:function(){window.location=window.location.pathname+"/"+e('[duck-field="url"] [duck-value]').val()}})})}(jQuery.noConflict());
//# sourceMappingURL=profile.min.js.map
