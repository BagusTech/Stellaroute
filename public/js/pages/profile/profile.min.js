"use strict";void function(e){e(function(){var a=e('<div class="alert alert-danger p-A z-1 l-0 r-0 t-0">Something went wrong, please try again.</div>'),i=e('#Settings [duck-table="Users"]'),d=i.find('[duck-button="submit"]'),n=i.find('[duck-field="username"] [duck-value]'),s=n.val(),t=e(".js-profile-pic"),l=i.find('[duck-field="profilePicture"] [duck-value]'),o=l.val(),r=e(".js-banner-image"),u=i.find('[duck-field="bannerImage"] [duck-value]'),c=u.val(),f=e(".js-first-name"),p=e(".js-last-name"),v=e(".js-tagline"),m=e(".js-about-me-tab"),k=e(".js-about-me");n.prop("validateFunc",function(){return function(){var e=n.val();duck("Users").exists({field:"username",value:e,fineOne:!0},function(a){"0"===a||s===e?n.trigger("passedValidation"):n.trigger("failedValidation")})}}),i.on("duck.form.submitted",function(){d.prop("disabled",!0),d.find("i").removeClass("hidden")}),i.duckForm({successCallback:function(){var e=n.val(),a=l.val(),b=u.val(),g=i.find('[duck-field="first"] [duck-value]').val(),h=i.find('[duck-field="last"] [duck-value]').val(),C=i.find('[duck-field="tagline"] [duck-value]').val(),w=i.find('[duck-field="description"] .summernote').summernote("code");if(f.text(g),p.text(h),v.text(C),k.html(w),v.removeClass("hidden"),m.removeClass("hidden"),d.prop("disabled",!1).find("i").addClass("hidden"),e.toLowerCase()!==s.toLowerCase())return void(window.location.href="/"+e);if(a!==o){var j=a.split(".");j.pop();var q="https://s3-us-west-2.amazonaws.com/stellaroute/"+j.join(".")+"-thumb2.jpg";t.attr("src",q)}if(b!==c){var x=b.split(".");x.pop();var F="https://s3-us-west-2.amazonaws.com/stellaroute/"+x+"-large.jpg";r.css("background-image",'url("'+F+'")')}},errorCallBack:function(){var e=a.clone();d.prop("disabled",!1).find("i").addClass("hidden"),i.append(e),setTimeout(function(){e.slideUp(270)},3e3),setTimeout(function(){e.remove()},3270)}});var b=e("#ChangePassword"),g=b.find('[duck-table="Users"]'),h=g.find('input[type="password"]'),C=g.find('[duck-button="submit"]');h.on("input",function(e){e.stopPropagation(),e.preventDefault(),h.eq(0).val()&&!h.eq(1).val()?C.prop("disabled",!0):h.eq(0).val()!==h.eq(1).val()||h.eq(0).val().length<8||h.eq(1).val().length<8?(C.prop("disabled",!0),h.closest(".form-group").addClass("has-error")):(h.closest(".form-group").removeClass("has-error"),C.prop("disabled",!1))}),g.on("duck.form.submitted",function(){C.prop("disabled",!0),C.find("i").removeClass("hidden")}),g.duckForm({successCallback:function(){C.prop("disabled",!1).find("i").addClass("hidden"),b.modal("hide")}});var w=e('[duck-table="Guides"]'),j=w.find('[duck-button="submit"]');j.on("click",function(){j.append('<i class="fa fa-spin fa-spinner"></i>')}),w.duckForm({successCallback:function(){window.location=window.location.pathname+"/"+e('[duck-field="url"] [duck-value]').val()}})})}(jQuery.noConflict());
//# sourceMappingURL=profile.min.js.map
