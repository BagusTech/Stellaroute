{"version":3,"sources":["js/scripts.js"],"names":["init","update","$","multiselect","$form","find","each","$this","this","input","class","type","value","text","after","options","attr","split","i","option","append","selected","container","multiple","contains","prepend","name","checked","$inputs","$values","click","toggleClass","window","on","setTimeout","hide","removeClass","jQuery","String","prototype","search","start","length","indexOf"],"mappings":"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","file":"js/scripts.min.js","sourcesContent":["void function($){\r\n\t// Once window is loaded, do this\r\n\t$(window).on('load', function(){\r\n\t\tsetTimeout(function(){\r\n\t\t\t$('.flash-message-container').hide(1000);\r\n\t\t}, 1500);\r\n\r\n\t\t\r\n\t\tinit();\r\n\r\n\t\t// for updating countries\r\n\t\t$('.js-update-country').click(function(){\r\n\t\t\t$(this).hide();\r\n\t\t\t$('#Update').removeClass('hidden');\r\n\r\n\t\t\t$('.js-update').hide();\r\n\t\t\t$('.form-group').removeClass('hidden');\r\n\t\t});\r\n\t});\r\n\r\n\r\n\r\n}(jQuery);\r\n\r\n//////////////  Define Functions  //////////////////////\r\nfunction init(){\r\n\t// initilize all update pages\r\n\tupdate();\r\n\r\n\t// style multiselect via http://davidstutz.github.io/bootstrap-multiselect/\r\n\t$('select[multiple]').multiselect();\r\n}\r\n\r\nfunction update(){\r\n\t//used for all update forms (ajax)\r\n\r\n\tvar $form = $('.update-form');\r\n\r\n\t//create the appropriate inputs\r\n\t$form.find('[data-type=text]').each(function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\tvar input = $( '<input/>', {\r\n\t\t\t\tclass: 'form-control hidden',\r\n\t\t\t\ttype: 'text',\r\n\t\t\t\tvalue: $this.text()\r\n\t\t\t});\r\n\r\n\t\t$this.after(input);\r\n\t});\r\n\r\n\t$form.find('[data-type=email]').each(function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\tvar input = $( '<input/>', {\r\n\t\t\t\tclass: 'form-control hidden',\r\n\t\t\t\ttype: 'email',\r\n\t\t\t\tvalue: $this.text()\r\n\t\t\t});\r\n\r\n\t\t$this.after(input);\r\n\t});\r\n\r\n\t$form.find('[data-type=textarea]').each(function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\tvar input = $( '<textarea/>', {\r\n\t\t\t\tclass: 'form-control hidden',\r\n\t\t\t\ttext: $this.text()\r\n\t\t\t});\r\n\r\n\t\t$this.after(input);\r\n\t});\r\n\r\n\t$form.find('[data-type=select]').each(function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\tvar input = $( '<select/>', {\r\n\t\t\t\tclass: 'form-control hidden',\r\n\t\t\t\tvalue: $this.text()\r\n\t\t\t});\r\n\r\n\t\t// get the options for the 'data-options' attribute and make it an array\r\n\t\tvar options = $this.attr('data-options').split(',');\r\n\r\n\t\t$.each(options, function(i, option){\r\n\t\t\tinput.append($('<option/>', {\r\n\t\t\t\tvalue: option,\r\n\t\t\t\tselected: option === $this.text(),\r\n\t\t\t\ttext: option\r\n\t\t\t}));\r\n\t\t});\r\n\r\n\t\t$this.after(input);\r\n\t});\r\n\r\n\t$form.find('[data-type=multi-select]').each(function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\tvar container = $('<div/>', {\r\n\t\t\tclass: 'multi-select form-group hidden'\r\n\t\t}).append();\r\n\r\n\t\tvar input = $( '<select/>', {\r\n\t\t\t\tclass: 'form-control',\r\n\t\t\t\tmultiple: 'true',\r\n\t\t\t\tvalue: $this.text()\r\n\t\t\t});\r\n\r\n\t\tcontainer.append(input);\r\n\r\n\t\t// get the options for the 'data-options' attribute and make it an array\r\n\t\tvar options = $this.attr('data-options').split(',');\r\n\r\n\t\t$.each(options, function(i, option){\r\n\t\t\tinput.append($('<option/>', {\r\n\t\t\t\tvalue: option,\r\n\t\t\t\tselected: $this.text().contains(option),\r\n\t\t\t\ttext: option\r\n\t\t\t}));\r\n\t\t});\r\n\r\n\t\t$this.after(container);\r\n\t});\r\n\r\n\t$form.find('[data-type=radio]').each(function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\tvar container = $('<div/>', {\r\n\t\t\tclass: 'radio-group hidden'\r\n\t\t});\r\n\r\n\t\t// get the options for the 'data-options' attribute and make it an array\r\n\t\tvar options = $this.attr('data-options').split(',');\r\n\r\n\t\t$.each(options, function(i, option){\r\n\t\t\tcontainer\r\n\t\t\t.append($('<div/>', { class: 'radio' })\r\n\t\t\t.append($('<label/>', {text: option})\r\n\t\t\t.prepend($('<input/>', {\r\n\t\t\t\t\t\t\ttype: 'radio',\r\n\t\t\t\t\t\t\tname: 'TODO-radio',\r\n\t\t\t\t\t\t\tchecked: $this.text() === option\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\t$this.after(container);\r\n\t});\r\n\r\n\t$form.find('[data-type=checkbox]').each(function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\tvar container = $('<div/>', {\r\n\t\t\tclass: 'checkbox-group hidden'\r\n\t\t});\r\n\r\n\t\t// get the options for the 'data-options' attribute and make it an array\r\n\t\tvar options = $this.attr('data-options').split(',');\r\n\r\n\t\t$.each(options, function(i, option){\r\n\t\t\tcontainer\r\n\t\t\t.append($('<div/>', { class: 'checkbox' })\r\n\t\t\t.append($('<label/>', {text: option})\r\n\t\t\t.prepend($('<input/>', {\r\n\t\t\t\t\t\t\ttype: 'checkbox',\r\n\t\t\t\t\t\t\tname: 'TODO-checkbox',\r\n\t\t\t\t\t\t\tchecked: $this.text() === option\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\t$this.after(container);\r\n\t});\r\n\r\n\tvar $inputs = $form.find('p + .hidden');\r\n\tvar $values = $form.find('.form-control-static');\r\n\r\n\t// toggle between seeing input fields and\r\n\t$form.find('.btn-update').click(function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\t// toggle between static values and inputs\r\n\t\t$inputs.toggleClass('hidden');\r\n\t\t$values.toggleClass('hidden');\r\n\r\n\t\t// change color and text of the update button\r\n\t\t$this.toggleClass('btn-warning').toggleClass('btn-primary');\r\n\t\t$this.text($this.text() === 'Update' ? 'Cancel' : 'Update');\r\n\r\n\t\t// toggle save button\r\n\t\t$form.find('.btn-save').toggleClass('hidden');\r\n\t});\r\n\t//click update\r\n\t//all available inputs become the appropriate type of input\r\n\t//save button saves the data\r\n\t//cancel button flips away from inputs\r\n}\r\n\r\n\r\n// polyfills\r\nif (!String.prototype.contains) {\r\n  String.prototype.contains = function(search, start) {\r\n    'use strict';\r\n    if (typeof start !== 'number') {\r\n      start = 0;\r\n    }\r\n    \r\n    if (start + search.length > this.length) {\r\n      return false;\r\n    } else {\r\n      return this.indexOf(search, start) !== -1;\r\n    }\r\n  };\r\n}"],"sourceRoot":"/source/"}