{"version":3,"sources":["js/scripts.js"],"names":["init","update","$","multiselect","click","duplicate","last","clone","after","find","removeClass","on","this","closest","detach","attr","String","addClass","$this","setTimeout","selected","each","append","text","e","id","first","focus","updateValues","$form","$inputs","$values","unbind","toggleClass","window","slideUp","hide","jQuery","prototype","contains","search","start","length","indexOf"],"mappings":"AAAA,YAsBA,SAASA,QAERC,SAGAC,EAAE,oBAAoBC,cAGtBD,EAAE,sCAAsCE,MAAM,WAC7C,GAAIC,GAAYH,EAAE,iBAAiBI,OAAOC,OAC1CL,GAAE,iBAAiBI,OAAOE,MAAMH,GAChCH,EAAE,iBAAiBI,OAAOG,KAAK,WAAWC,YAAY,YAGvDR,EAAE,mBAAmBS,GAAG,QAAS,iBAAkB,WAClDT,EAAEU,MAAMC,QAAQ,iBAAiBC,WAKlCZ,EAAE,sCAAsCE,MAAM,WAC7C,GAAIC,GAAYH,EAAE,iBAAiBI,OAAOC,OAE1CL,GAAE,iBAAiBI,OAAOE,MAAMH,GAChCH,EAAE,iBAAiBI,OAAOG,KAAK,4BAA4BM,KAAK,YAAY,GAC5Eb,EAAE,iBAAiBI,OAAOG,KAAK,6BAA6BM,KAAK,QAASC,UAC1Ed,EAAE,iBAAiBI,OAAOG,KAAK,wBAAwBQ,SAAS,YAGjEf,EAAE,mBAAmBS,GAAG,QAAS,iBAAkB,WAClDT,EAAEU,MAAMC,QAAQ,iBAAiBC,WAGlCZ,EAAE,8CAA8CS,GAAG,QAAS,WAC3D,GAAIO,GAAQhB,EAAEU,KAEdO,YAAW,WACV,GAAIC,GAAWF,EAAML,QAAQ,0BAA0BJ,KAAK,YAE5DP,GAAE,4BAA4BY,SAE9BZ,EAAEkB,GAAUC,KAAK,WAChBnB,EAAE,qBAAqBoB,OAAOpB,EAAE,aAAcqB,KAAMrB,EAAEU,MAAMW,aAE3D,OAIJrB,EAAE,uBAAuBE,MAAM,SAAiBoB,GAC/C,GAAIC,GAAKvB,EAAEU,MAAMG,KAAK,cACtBI,YAAW,WACVjB,EAAEuB,EAAK,UAAUC,QAAQC,SACvB,OAIL,QAAS1B,QAAO2B,GAGf,GAAIC,GAAQ3B,EAAE,gBAEV4B,EAAUD,EAAMpB,KAAK,eACrBsB,EAAUF,EAAMpB,KAAK,uBAEtBmB,KACFC,EAAMpB,KAAK,eAAeuB,OAAO,SAEjCF,EAAUD,EAAMpB,KAAK,eACrBsB,EAAUF,EAAMpB,KAAK,yBAItBoB,EAAMpB,KAAK,eAAeL,MAAM,WAC/B,GAAIc,GAAQhB,EAAEU,KAGdkB,GAAQG,YAAY,UACpBF,EAAQE,YAAY,UAGpBf,EAAMe,YAAY,eAAeA,YAAY,eAC7Cf,EAAMH,KAAK,QAAiC,WAAxBG,EAAMH,KAAK,SAAwB,SAAW,UAGlEc,EAAMpB,KAAK,aAAawB,YAAY,gBA1GjC,UAAS/B,GAEbA,EAAEgC,QAAQvB,GAAG,OAAQ,WACpBQ,WAAW,WACVjB,EAAE,4BAA4BiC,QAAQ,MACpC,MAGHnC,OAGAE,EAAE,sBAAsBE,MAAM,WAC7BF,EAAEU,MAAMwB,OACRlC,EAAE,WAAWQ,YAAY,UAEzBR,EAAE,cAAckC,OAChBlC,EAAE,eAAeQ,YAAY,eAG9B2B,QA8FGrB,OAAOsB,UAAUC,WACpBvB,OAAOsB,UAAUC,SAAW,SAASC,EAAQC,GAM3C,MAJqB,gBAAVA,KACTA,EAAQ,GAGNA,EAAQD,EAAOE,OAAS9B,KAAK8B,QACxB,EAEgC,KAAhC9B,KAAK+B,QAAQH,EAAQC","file":"js/scripts.min.js","sourcesContent":["void function($){\r\n\t// Once window is loaded, do this\r\n\t$(window).on('load', function(){\r\n\t\tsetTimeout(function(){\r\n\t\t\t$('.flash-message-container').slideUp(1000);\r\n\t\t}, 1500);\r\n\r\n\t\t\r\n\t\tinit(); \r\n\r\n\t\t// for updating countries\r\n\t\t$('.js-update-country').click(function(){\r\n\t\t\t$(this).hide();\r\n\t\t\t$('#Update').removeClass('hidden');\r\n\r\n\t\t\t$('.js-update').hide();\r\n\t\t\t$('.form-group').removeClass('hidden');\r\n\t\t});\r\n\t});\r\n}(jQuery);\r\n\r\n//////////////  Define Functions  //////////////////////\r\nfunction init(){\r\n\t// initilize all update pages\r\n\tupdate();\r\n\r\n\t// style multiselect via http://davidstutz.github.io/bootstrap-multiselect/\r\n\t$('select[multiple]').multiselect();\r\n\r\n\t// should probably be moved into it's own file\r\n\t$('.js-new-country .js-make-duplicate').click(function duplicateNativeNameRow(){\r\n\t\tvar duplicate = $('.js-duplicate').last().clone();\r\n\t\t$('.js-duplicate').last().after(duplicate);\r\n\t\t$('.js-duplicate').last().find('.hidden').removeClass('hidden');\r\n\t});\r\n\r\n\t$('.js-new-country').on('click', '.js-delete-row', function(){\r\n\t\t$(this).closest('.js-duplicate').detach();\r\n\t});\r\n\r\n\r\n\t// should probably be moved into it's own file\r\n\t$('.js-update-form .js-make-duplicate').click(function duplicateNativeNameRow(){\r\n\t\tvar duplicate = $('.js-duplicate').last().clone();\r\n\r\n\t\t$('.js-duplicate').last().after(duplicate);\r\n\t\t$('.js-duplicate').last().find('.js-name-language option').attr('selected', false);\r\n\t\t$('.js-duplicate').last().find('input[name=\"native.name\"]').attr('value', String());\r\n\t\t$('.js-duplicate').last().find('.form-control-static').addClass('hidden');\r\n\t});\r\n\r\n\t$('.js-update-form').on('click', '.js-delete-row', function(){\r\n\t\t$(this).closest('.js-duplicate').detach();\r\n\t});\r\n\t\r\n\t$('.js-languages .multiselect-container input').on('click', function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\tsetTimeout(function(){\r\n\t\t\tvar selected = $this.closest('.multiselect-container').find('li.active');\r\n\t\t\r\n\t\t\t$('.js-name-language option').detach();\r\n\r\n\t\t\t$(selected).each(function(){\r\n\t\t\t\t$('.js-name-language').append($('<option/>', {text: $(this).text()}));\r\n\t\t\t});\r\n\t\t}, 100);\r\n\t});\r\n\t// end new file\r\n\r\n\t$('button[data-target]').click(function onClick(e){\r\n\t\tvar id = $(this).attr('data-target');\r\n\t\tsetTimeout(function focusElement(){\r\n\t\t\t$(id + ' input').first().focus();\r\n\t\t}, 200);\r\n\t});\r\n}\r\n\r\nfunction update(updateValues){\r\n\t//used for all update forms\r\n\r\n\tvar $form = $('.update-form');\r\n\r\n\tvar $inputs = $form.find('p + .hidden');\r\n\tvar $values = $form.find('.form-control-static');\r\n\r\n\tif(updateValues){\r\n\t\t$form.find('.btn-update').unbind('click');\r\n\r\n\t\t$inputs = $form.find('p + .hidden');\r\n\t\t$values = $form.find('.form-control-static');\r\n\t}\r\n\r\n\t// toggle between seeing input fields and\r\n\t$form.find('.btn-update').click(function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\t// toggle between static values and inputs\r\n\t\t$inputs.toggleClass('hidden');\r\n\t\t$values.toggleClass('hidden');\r\n\r\n\t\t// change color and text of the update button\r\n\t\t$this.toggleClass('btn-warning').toggleClass('btn-primary');\r\n\t\t$this.attr('value', $this.attr('value') === 'Update' ? 'Cancel' : 'Update');\r\n\r\n\t\t// toggle save button\r\n\t\t$form.find('.btn-save').toggleClass('hidden');\r\n\t});\r\n\t//save button saves the data\r\n}\r\n\r\n\r\n// polyfills\r\nif (!String.prototype.contains) {\r\n  String.prototype.contains = function(search, start) {\r\n    'use strict';\r\n    if (typeof start !== 'number') {\r\n      start = 0;\r\n    }\r\n    \r\n    if (start + search.length > this.length) {\r\n      return false;\r\n    } else {\r\n      return this.indexOf(search, start) !== -1;\r\n    }\r\n  };\r\n}"],"sourceRoot":"/source/"}