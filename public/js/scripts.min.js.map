{"version":3,"sources":["js/scripts.js"],"names":["jQuery","$","toggleMenu","toggleClass","deActivateSearch","off","update","updateValues","$form","$inputs","find","$values","unbind","click","$this","this","attr","setTimeout","slideUp","multiselect","duplicate","last","clone","after","removeClass","on","closest","detach","String","addClass","$countryLanguages","$currentCountryLanguageList","length","each","text","indexOf","substring","i","before","append","sort","a","b","replace","id","first","focus","e","stopPropagation","hide","prototype","contains","search","start"],"mappings":"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","file":"js/scripts.min.js","sourcesContent":["/*global jQuery */\r\n\r\n// Once window is loaded, do this\r\njQuery(($) => {\r\n\t'use strict'\r\n\r\n\tsetTimeout(() => {\r\n\t\t$('.flash-message-container').slideUp(1000);\r\n\t}, 1500);\r\n\r\n\t\r\n\t// style multiselect via http://davidstutz.github.io/bootstrap-multiselect/\r\n\t$('select[multiple]').multiselect();\r\n\r\n\t// should probably be moved into it's own file\r\n\t$('.js-new-country .js-make-duplicate').click(() => {\r\n\t\tconst duplicate = $('.js-duplicate').last().clone();\r\n\t\t$('.js-duplicate').last().after(duplicate);\r\n\t\t$('.js-duplicate').last().find('.hidden').removeClass('hidden');\r\n\t});\r\n\r\n\t$('.js-new-country').on('click', '.js-delete-row', function deleteRow(){\r\n\t\t$(this).closest('.js-duplicate').detach();\r\n\t});\r\n\r\n\r\n\t// should probably be moved into it's own file\r\n\t$('.js-update-form .js-make-duplicate').click(() => {\r\n\t\tconst duplicate = $('.js-duplicate').last().clone();\r\n\r\n\t\t$('.js-duplicate').last().after(duplicate);\r\n\t\t$('.js-duplicate').last().find('.js-name-language option').attr('selected', false);\r\n\t\t$('.js-duplicate').last().find('input[name=\"native.name\"]').attr('value', String());\r\n\t\t$('.js-duplicate').last().find('.form-control-static').addClass('hidden');\r\n\t});\r\n\r\n\t$('.js-update-form').on('click', '.js-delete-row', function deleteRow(){\r\n\t\t$(this).closest('.js-duplicate').detach();\r\n\t});\r\n\t\r\n\t$('.js-languages .multiselect-container input').on('click', function updateOptions(){\r\n\t\tconst $this = $(this);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tconst $countryLanguages = $this.closest('.multiselect-container').find('li.active');\r\n\t\t\tconst $currentCountryLanguageList = $('.js-name-language').find('option').length ? $('.js-name-language') : null; // <select> with each language as an <option>\r\n\t\t\t\r\n\t\t\t// if this language isn't in the country language list, add it as an option\r\n\t\t\t$countryLanguages.each(function updateOption(){\r\n\t\t\t\tif(!$currentCountryLanguageList){\r\n\t\t\t\t\t$('.js-name-language').append($('<option/>', {text: $(this).text().substring(1)}));\r\n\t\t\t\t} else if($currentCountryLanguageList.find('option').text().indexOf($(this).text().substring(1)) === -1){\r\n\t\t\t\t\tfor(const i in $('.js-name-language option')){\r\n\t\t\t\t\t\tif($(this).text().substring(1) < $($('.js-name-language option')[i]).text()){\r\n\t\t\t\t\t\t\t$($('.js-name-language option')[i]).before($('<option/>', {text: $(this).text().substring(1)}));\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(i === $('.js-name-language option').length -1){\r\n\t\t\t\t\t\t\t$('.js-name-language').append($('<option/>', {text: $(this).text().substring(1)}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// if this language is no longer one of the country languages- remove it\r\n\t\t\tif($currentCountryLanguageList){\r\n\t\t\t\t$currentCountryLanguageList.find('option').each(function removeDeselectedLanguages(){\r\n\t\t\t\t\tif($countryLanguages.text().indexOf($(this).text()) === -1){\r\n\t\t\t\t\t\t$(this).detach();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t$('.js-name-language option').sort((a, b) => {\r\n\t\t\t\ta = $(a).text().replace(' ', '');\r\n\t\t\t\tb = $(b).text().replace(' ', '');\r\n\r\n\r\n\t\t\t\t// compare\r\n\t\t\t\tif(a > b) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t} else if(a < b) {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t}, 100);\r\n\t});\r\n\t// end new file\r\n\r\n\t$('button[data-target]').click(function onClick(){\r\n\t\tconst id = $(this).attr('data-target');\r\n\t\tsetTimeout(() => {\r\n\t\t\t$(`${id} input`).first().focus();\r\n\t\t}, 200);\r\n\t});\r\n\r\n\t// toggle nav\r\n\tfunction toggleMenu() {\r\n\t\t$('.hamburger-menu').toggleClass('active');\r\n\t}\r\n\r\n\t$('.hamburger-menu--toggle').click(toggleMenu);\r\n\t$('.hamburger-menu').click(toggleMenu);\r\n\t$('.hamburger-menu--options').click((e) => e.stopPropagation());\r\n\r\n\t// toggle search\r\n\tfunction deActivateSearch() {\r\n\t\t$('#SiteSearch').removeClass('active');\r\n\r\n\t\t$('.site-body').off('click', deActivateSearch);\r\n\t}\r\n\r\n\t$('.search--toggle').click(() => {\r\n\t\t$('#SiteSearch').addClass('active');\r\n\r\n\t\t$('.site-body').click(deActivateSearch);\r\n\t});\r\n\r\n\t$('#SiteSearch').click((e) => e.stopPropagation());\r\n\r\n\t// for updating countries\r\n\t$('.js-update-country').click(function(){\r\n\t\t$(this).hide();\r\n\t\t$('#Update').removeClass('hidden');\r\n\r\n\t\t$('.js-update').hide();\r\n\t\t$('.form-group').removeClass('hidden');\r\n\t});\r\n\r\n\t//used for all update forms\r\n\tfunction update(updateValues){\r\n\t\tconst $form = $('.update-form');\r\n\r\n\t\tlet $inputs = $form.find('p + .hidden');\r\n\t\tlet $values = $form.find('.form-control-static');\r\n\r\n\t\tif(updateValues){\r\n\t\t\t$form.find('.btn-update').unbind('click');\r\n\r\n\t\t\t$inputs = $form.find('p + .hidden');\r\n\t\t\t$values = $form.find('.form-control-static');\r\n\t\t}\r\n\r\n\t\t// toggle between seeing input fields and\r\n\t\t$form.find('.btn-update').click(function(){\r\n\t\t\tconst $this = $(this);\r\n\r\n\t\t\t// toggle between static values and inputs\r\n\t\t\t$inputs.toggleClass('hidden');\r\n\t\t\t$values.toggleClass('hidden');\r\n\r\n\t\t\t// toggle native names area when there aren't any native names\r\n\t\t\t$('.js-no-native-name').toggleClass('hidden');\r\n\r\n\t\t\t// change color and text of the update button\r\n\t\t\t$this.toggleClass('btn-warning').toggleClass('btn-primary');\r\n\t\t\t$this.attr('value', $this.attr('value') === 'Update' ? 'Cancel' : 'Update');\r\n\r\n\t\t\t// toggle save button\r\n\t\t\t$form.find('.btn-save').toggleClass('hidden');\r\n\t\t});\r\n\t\t//save button saves the data\r\n\t}\r\n\r\n\t// initilize all update pages\r\n\tupdate();\r\n});\t\r\n\r\n/* eslint-disable */\r\n// polyfills\r\nif (!String.prototype.contains) {\r\n\tString.prototype.contains = function(search, start) {\r\n\tif (typeof start !== 'number') {\r\n\t\tstart = 0;\r\n\t}\r\n\r\n\tif (start + search.length > this.length) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn this.indexOf(search, start) !== -1;\r\n\t\t}\r\n\t};\r\n}\r\n/* eslint-enable */"],"sourceRoot":"/source/"}