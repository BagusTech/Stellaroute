{"version":3,"sources":["js/scripts.js"],"names":["init","toggleMenu","$","toggleClass","deActivateSearch","removeClass","off","update","multiselect","click","duplicate","last","clone","after","find","on","this","closest","detach","attr","String","addClass","$this","setTimeout","$countryLanguages","$currentCountryLanguageList","length","each","text","indexOf","substring","i","before","append","sort","a","b","replace","console","log","e","id","first","focus","stopPropagation","updateValues","$form","$inputs","$values","unbind","window","slideUp","hide","jQuery","prototype","contains","search","start"],"mappings":"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","file":"js/scripts.min.js","sourcesContent":["void function($){\r\n\t// Once window is loaded, do this\r\n\t$(window).on('load', function(){\r\n\t\tsetTimeout(function(){\r\n\t\t\t$('.flash-message-container').slideUp(1000);\r\n\t\t}, 1500);\r\n\r\n\t\t\r\n\t\tinit(); \r\n\r\n\t\t// for updating countries\r\n\t\t$('.js-update-country').click(function(){\r\n\t\t\t$(this).hide();\r\n\t\t\t$('#Update').removeClass('hidden');\r\n\r\n\t\t\t$('.js-update').hide();\r\n\t\t\t$('.form-group').removeClass('hidden');\r\n\t\t});\r\n\t});\r\n}(jQuery);\r\n\r\n//////////////  Define Functions  //////////////////////\r\nfunction init(){\r\n\t// initilize all update pages\r\n\tupdate();\r\n\r\n\t// style multiselect via http://davidstutz.github.io/bootstrap-multiselect/\r\n\t$('select[multiple]').multiselect();\r\n\r\n\t// should probably be moved into it's own file\r\n\t$('.js-new-country .js-make-duplicate').click(function duplicateNativeNameRow(){\r\n\t\tvar duplicate = $('.js-duplicate').last().clone();\r\n\t\t$('.js-duplicate').last().after(duplicate);\r\n\t\t$('.js-duplicate').last().find('.hidden').removeClass('hidden');\r\n\t});\r\n\r\n\t$('.js-new-country').on('click', '.js-delete-row', function(){\r\n\t\t$(this).closest('.js-duplicate').detach();\r\n\t});\r\n\r\n\r\n\t// should probably be moved into it's own file\r\n\t$('.js-update-form .js-make-duplicate').click(function duplicateNativeNameRow(){\r\n\t\tvar duplicate = $('.js-duplicate').last().clone();\r\n\r\n\t\t$('.js-duplicate').last().after(duplicate);\r\n\t\t$('.js-duplicate').last().find('.js-name-language option').attr('selected', false);\r\n\t\t$('.js-duplicate').last().find('input[name=\"native.name\"]').attr('value', String());\r\n\t\t$('.js-duplicate').last().find('.form-control-static').addClass('hidden');\r\n\t});\r\n\r\n\t$('.js-update-form').on('click', '.js-delete-row', function(){\r\n\t\t$(this).closest('.js-duplicate').detach();\r\n\t});\r\n\t\r\n\t$('.js-languages .multiselect-container input').on('click', function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\tsetTimeout(function(){\r\n\t\t\tvar $countryLanguages = $this.closest('.multiselect-container').find('li.active');\r\n\t\t\tvar $currentCountryLanguageList = $('.js-name-language').find('option').length ? $('.js-name-language') : null; // <select> with each language as an <option>\r\n\t\t\t\r\n\t\t\t// if this language isn't in the country language list, add it as an option\r\n\t\t\t$countryLanguages.each(function(){\r\n\t\t\t\tif(!$currentCountryLanguageList){\r\n\t\t\t\t\t$('.js-name-language').append($('<option/>', {text: $(this).text().substring(1)}));\r\n\t\t\t\t} else if($currentCountryLanguageList.find('option').text().indexOf($(this).text().substring(1)) === -1){\r\n\t\t\t\t\tfor(var i in $('.js-name-language option')){\r\n\t\t\t\t\t\tif($(this).text().substring(1) < $($('.js-name-language option')[i]).text()){\r\n\t\t\t\t\t\t\t$($('.js-name-language option')[i]).before($('<option/>', {text: $(this).text().substring(1)}));\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(i == $('.js-name-language option').length -1){\r\n\t\t\t\t\t\t\t$('.js-name-language').append($('<option/>', {text: $(this).text().substring(1)}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// if this language is no longer one of the country languages- remove it\r\n\t\t\tif($currentCountryLanguageList){\r\n\t\t\t\t$currentCountryLanguageList.find('option').each(function removeDeselectedLanguages(){\r\n\t\t\t\t\tif($countryLanguages.text().indexOf($(this).text()) === -1){\r\n\t\t\t\t\t\t$(this).detach();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t$('.js-name-language option').sort(function sortAtoZ(a, b) {\r\n\t\t\t\ta = $(a).text().replace(' ', '');\r\n\t\t\t\tb = $(b).text().replace(' ', '');\r\n\r\n\t\t\t\tconsole.log(a);\r\n\t\t\t\tconsole.log(b);\r\n\r\n\t\t\t\t// compare\r\n\t\t\t\tif(a > b) {\r\n\t\t\t\t\tconsole.log(1);\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t} else if(a < b) {\r\n\t\t\t\t\tconsole.log(2);\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(3);\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, 100);\r\n\t});\r\n\t// end new file\r\n\r\n\t$('button[data-target]').click(function onClick(e){\r\n\t\tvar id = $(this).attr('data-target');\r\n\t\tsetTimeout(function focusElement(){\r\n\t\t\t$(id + ' input').first().focus();\r\n\t\t}, 200);\r\n\t});\r\n\r\n\t// toggle nav\r\n\tfunction toggleMenu() {\r\n\t\t$('.hamburger-menu').toggleClass('active');\r\n\t}\r\n\r\n\t$('.hamburger-menu--toggle').click(toggleMenu);\r\n\t$('.hamburger-menu').click(toggleMenu);\r\n\t$('.hamburger-menu--options').click(function preventCloseMenu(e){\r\n\t\te.stopPropagation();\r\n\t});\r\n\r\n\t// toggle search\r\n\tfunction deActivateSearch() {\r\n\t\t$('#SiteSearch').removeClass('active');\r\n\r\n\t\t$('.site-body').off('click', deActivateSearch);\r\n\t}\r\n\r\n\t$('.search--toggle').click(function activeSiteSearch(){\r\n\t\t$('#SiteSearch').addClass('active');\r\n\r\n\t\t$('.site-body').click(deActivateSearch);\r\n\t});\r\n\r\n\t$('#SiteSearch').click(function dontCloseSearchWhileSearching(e){\r\n\t\te.stopPropagation();\r\n\t});\r\n}\r\n\r\nfunction update(updateValues){\r\n\t//used for all update forms\r\n\r\n\tvar $form = $('.update-form');\r\n\r\n\tvar $inputs = $form.find('p + .hidden');\r\n\tvar $values = $form.find('.form-control-static');\r\n\r\n\tif(updateValues){\r\n\t\t$form.find('.btn-update').unbind('click');\r\n\r\n\t\t$inputs = $form.find('p + .hidden');\r\n\t\t$values = $form.find('.form-control-static');\r\n\t}\r\n\r\n\t// toggle between seeing input fields and\r\n\t$form.find('.btn-update').click(function(){\r\n\t\tvar $this = $(this);\r\n\r\n\t\t// toggle between static values and inputs\r\n\t\t$inputs.toggleClass('hidden');\r\n\t\t$values.toggleClass('hidden');\r\n\r\n\t\t// toggle native names area when there aren't any native names\r\n\t\t$('.js-no-native-name').toggleClass('hidden');\r\n\r\n\t\t// change color and text of the update button\r\n\t\t$this.toggleClass('btn-warning').toggleClass('btn-primary');\r\n\t\t$this.attr('value', $this.attr('value') === 'Update' ? 'Cancel' : 'Update');\r\n\r\n\t\t// toggle save button\r\n\t\t$form.find('.btn-save').toggleClass('hidden');\r\n\t});\r\n\t//save button saves the data\r\n}\r\n\r\n\r\n// polyfills\r\nif (!String.prototype.contains) {\r\n  String.prototype.contains = function(search, start) {\r\n    'use strict';\r\n    if (typeof start !== 'number') {\r\n      start = 0;\r\n    }\r\n    \r\n    if (start + search.length > this.length) {\r\n      return false;\r\n    } else {\r\n      return this.indexOf(search, start) !== -1;\r\n    }\r\n  };\r\n}"],"sourceRoot":"/source/"}